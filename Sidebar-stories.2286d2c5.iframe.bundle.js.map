{"version":3,"file":"Sidebar-stories.2286d2c5.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;;;;;;;;;;;;;AAwCA;;;;;;;;;;;;AC3DA;;;;;;;;AAQA;;;;;;;;;;AAUA;;;;;;;;AAQA;;;;AAIA;AACA;;AAEA;;;;AAMA;;;;AAMA;AACA;;;;;;;;;AASA;;AAEA;;;AAKA;;;;;;;;;;;AAaA;;;;;;AAMA;;;;;;;;;;;AAWA;;;;;;;;;;;;;;;;;;;;;;AAwBA;;;;AAeA;AChJA;AAGA;;;;;;AAoBA;;AAGA;;;;AAMA;;;;;;AAwBA;;;AAyBA;;;;;;;;AAZA;AAYA","sources":["webpack://ag-common/./src/ui/components/Icon/index.tsx","webpack://ag-common/./src/ui/components/Sidebar/index.tsx","webpack://ag-common/./src/ui/styles/common.tsx"],"sourcesContent":["'use client';\nimport styled from '@emotion/styled';\nimport type { CSSProperties } from 'react';\nimport React from 'react';\n\nimport { removeUndefValuesFromObject } from '../../../common/helpers/object';\nimport { HardOutline } from '../../styles/common';\n\nexport const IconF = styled.span`\n  transition: all 200ms;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 2rem;\n  cursor: inherit;\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  margin: unset;\n  &[data-chnd='true'] {\n    cursor: pointer;\n    &:hover {\n      filter: saturate(3);\n    }\n  }\n\n  > svg {\n    flex-grow: 1;\n  }\n\n  &[data-hasfill='true'] {\n    fill: var(--fill);\n\n    svg {\n      fill: var(--fill);\n    }\n\n    linearGradient > *,\n    radialGradient > * {\n      stop-color: var(--fill) !important;\n    }\n  }\n\n  &[data-hasoutline='true'] {\n    ${HardOutline('var(--outlinecolour)')}\n  }\n\n  svg {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n    aspect-ratio: 1/1;\n  }\n\n  img {\n    object-fit: contain;\n  }\n`;\n\nexport interface IIcon {\n  disabled?: boolean;\n  outline?: string;\n  rotate?: number;\n  canHover?: boolean;\n  onClick?: (e: React.MouseEvent<HTMLSpanElement, MouseEvent>) => void;\n  children?: React.ReactNode;\n  role?: string;\n  title?: string;\n  tabIndex?: number;\n  className?: string;\n  style?: {\n    /** default 100% */\n    width?: string;\n    /** default 100% */\n    height?: string;\n    /** default 0 */\n    padding?: string;\n    /** default unset */\n    margin?: string;\n    /** pass fill down to svg */\n    fill?: string;\n  } & CSSProperties;\n}\n\nexport const Icon = (pr: IIcon) => {\n  const { className, children, disabled, onClick } = pr;\n  const CHND = pr.canHover && !pr.disabled;\n  const style: CSSProperties = removeUndefValuesFromObject({\n    ...(pr.style ?? {}),\n    '--fill': pr.style?.fill ?? null,\n    width: pr.style?.width,\n    height: pr.style?.height,\n    padding: pr.style?.padding,\n    margin: pr.style?.margin,\n    transform: !pr.rotate ? null : `rotate(${pr.rotate || 0}deg)`,\n    filter: !pr.disabled ? null : 'grayscale(1)',\n    '--outlinecolour': pr.outline || null,\n  });\n\n  return (\n    <IconF\n      {...pr}\n      className={className}\n      onClick={(e: React.MouseEvent<HTMLSpanElement, MouseEvent>) =>\n        !disabled && onClick?.(e)\n      }\n      style={style}\n      data-chnd={CHND}\n      data-hasoutline={pr.outline}\n      data-hasfill={!!pr.style?.fill}\n      data-type=\"iconbox\"\n    >\n      {children}\n    </IconF>\n  );\n};\n","'use client';\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\nimport React, { useRef, useState } from 'react';\n\nimport { useOnClickOutside } from '../../helpers';\nimport { Hamburger } from '../../icons/Hamburger';\nimport { NoTextSelect } from '../../styles/common';\nimport { bigScreen, smallScreen, smallScreenPx } from '../../styles/media';\nimport { Chevron } from '../Chevron';\n\nconst closedSidebarHover = css`\n  padding-left: 0.5rem;\n  width: 0.5rem;\n  background-color: rgba(0, 0, 0, 0.1);\n  cursor: pointer;\n  &:hover,\n  &:hover [data-hover='true'] {\n    background-color: #ccc;\n  }\n  &:hover {\n    border-right: solid 1px #999;\n  }\n`;\n\nconst Base = styled.div`\n  position: sticky;\n  top: 0;\n  transition: all 200ms;\n  border-right: solid 1px #ccc;\n  height: 100vh;\n  z-index: 1;\n\n  ${NoTextSelect};\n  &:hover {\n    [data-type='content-block'] {\n      left: 1rem;\n    }\n  }\n\n  &[data-open='true'] {\n    width: fit-content;\n\n    @media ${smallScreen} {\n      max-width: unset;\n      position: fixed;\n      top: 0;\n      left: 0;\n    }\n  }\n  &[data-open='false'] {\n    ${closedSidebarHover};\n  }\n\n  :not([data-open]) {\n    @media ${smallScreen} {\n      ${closedSidebarHover};\n    }\n    @media ${bigScreen} {\n      width: fit-content;\n    }\n  }\n`;\n\nconst closedContentBlockOffScreen = css`\n  left: -100vw;\n  transition: left 200ms;\n  height: 100%;\n`;\n\nconst ContentBlock = styled.div`\n  ${closedContentBlockOffScreen};\n  &[data-open='false'] {\n    position: absolute;\n    top: 0;\n    z-index: 1;\n    width: fit-content;\n  }\n\n  :not([data-open]) {\n    @media ${smallScreen} {\n      position: absolute;\n      ${closedContentBlockOffScreen};\n    }\n  }\n`;\n\nconst Content = styled.div`\n  display: flex;\n  flex-flow: column;\n  width: 100%;\n  height: 100%;\n\n  &[data-open='false'] {\n    filter: drop-shadow(1px 1px 0.5rem #555);\n    border-radius: 1rem;\n    background-color: rgba(255, 255, 255, 0.1);\n  }\n`;\n\nconst HamburgerB = styled.div`\n  position: absolute;\n  transition: all 200ms;\n  z-index: 2;\n\n  &[data-hide-on-big='true'] {\n    @media ${bigScreen} {\n      display: none;\n    }\n  }\n\n  &[data-open='false'] {\n    top: 0.5rem;\n    left: 0.25rem;\n  }\n\n  :not([data-open]) {\n    @media ${bigScreen} {\n      top: 0.5rem;\n      right: -0.75rem;\n    }\n  }\n  &[data-open='true'] {\n    top: 0.5rem;\n    right: -0.75rem;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  background-color: rgba(255, 255, 255, 0.9);\n  padding: 0.25rem;\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.7);\n  }\n  border-radius: 50%;\n  border: solid 1px rgba(0, 0, 0, 0.5);\n  cursor: pointer;\n`;\n\nconst ChevronStyled = styled(Chevron)`\n  svg {\n    fill: #555;\n  }\n`;\n\nexport interface ISidebar {\n  children: React.ReactNode;\n  className?: string;\n  /** default:defaultClosed\n   * defaultClosed: always closed by default.\n   * fixedOpen: always open on bigscreen. cant close if bigscreen\n   */\n  mode?: 'defaultClosed' | 'fixedOpen';\n}\nexport const Sidebar = ({\n  children,\n  className,\n  mode = 'defaultClosed',\n}: ISidebar) => {\n  const ref = useRef<HTMLDivElement>(null);\n  const [open, setOpen] = useState<boolean | null>(\n    mode === 'defaultClosed' ? false : null,\n  );\n\n  useOnClickOutside(\n    { ref, disabled: () => !open || window.innerWidth > smallScreenPx },\n    () => {\n      setOpen(false);\n    },\n  );\n\n  return (\n    <Base\n      data-type=\"sidebar\"\n      className={className}\n      data-open={open}\n      onClick={() => !open && setOpen(true)}\n      data-hover\n      ref={ref}\n    >\n      <HamburgerB\n        data-hide-on-big={mode === 'fixedOpen'}\n        data-open={open}\n        onClick={(e) => {\n          e.stopPropagation();\n          setOpen(!open);\n        }}\n        data-hover\n      >\n        {open ? <ChevronStyled point=\"left\" width=\"100%\" /> : <Hamburger />}\n      </HamburgerB>\n      <ContentBlock data-type=\"content-block\" data-open={open}>\n        <Content\n          data-type=\"content\"\n          data-open={open}\n          onClick={(e) => {\n            e.stopPropagation();\n          }}\n        >\n          {children}\n        </Content>\n      </ContentBlock>\n    </Base>\n  );\n};\n","'use client';\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\nimport type { CSSProperties } from 'react';\n\nimport { colours } from './colours';\n\n/** function that returns css that gives a text outline drop shadow.\n * @param outlineColour default='white'\n * @param sizePx default = 1px\n */\nexport const HardOutline = (outlineColour = 'white', sizePx = 1) => css`\\\nfilter: ${HardOutlineFilter(outlineColour, sizePx)};\n`;\n\nexport const HardOutlineFilter = (outlineColour = 'white', sizePx = 1) => {\n  const px = `${sizePx}px`;\n\n  return `drop-shadow(${px} ${px} 0px ${outlineColour})\n  drop-shadow(-${px} ${px} 0px ${outlineColour})\n  drop-shadow(${px} -${px} 0px ${outlineColour})\n  drop-shadow(-${px} -${px} 0px ${outlineColour})`;\n};\n\n/** disable user text selection */\nexport const NoTextSelect = css`\n  user-select: none; /* supported by Chrome and Opera */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n`;\n\n/** enable text overflow\n * @param lines number of lines before overflow\n */\nexport const TextOverflowEllipsis = (lines: number) => css`\n  display: -webkit-box;\n  -webkit-line-clamp: ${lines};\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\n/** stop dragging of element */\nexport const noDrag: {\n  draggable: boolean;\n  onDragStart: React.DragEventHandler<HTMLDivElement>;\n  onTouchStart: React.TouchEventHandler<HTMLDivElement>;\n} = {\n  draggable: false,\n  onDragStart: (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  },\n  onTouchStart: (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  },\n};\n\n/** apply bounce effect given a condition */\nexport const bounce = (bounceattr: string) => css`\n  transition:\n    opacity 0.2s ease,\n    transform 0.2s cubic-bezier(0.02, 1.5, 0.74, 1.23);\n  transform-origin: 50% 50%;\n  transform: translateY(-5px);\n  &[${bounceattr}='true'] {\n    transform: translateY(0);\n  }\n`;\n\nexport const Card = styled.div`\n  background-color: white;\n  margin: 0.5rem;\n\n  position: relative;\n  border-radius: 0.5rem;\n  max-width: 40rem;\n  padding: 1rem;\n  border: solid 2px ${colours.lighter};\n`;\n\nexport interface IVarStyles {\n  /** default var(--main-fg) */\n  color: string;\n  /** default var(--main-bg) */\n  backgroundColor: string;\n  /** default var(--main-bg-mid) */\n  borderColor: string;\n}\n\nexport const getVarStyles = (\n  raw?: Partial<IVarStyles & CSSProperties>,\n): IVarStyles => ({\n  ...raw,\n  color: raw?.color ?? 'var(--main-fg)',\n  backgroundColor: raw?.backgroundColor ?? 'var(--main-bg)',\n  borderColor: raw?.borderColor ?? 'var(--main-bg-mid)',\n});\n"],"names":[],"sourceRoot":""}