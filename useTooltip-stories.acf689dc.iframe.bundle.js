/*! For license information please see useTooltip-stories.acf689dc.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkag_common=self.webpackChunkag_common||[]).push([[889],{"./stories/useTooltip.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Global:()=>Global,Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/jsx-runtime.js"),_src_ui_helpers_useTooltip__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/index.js"),__webpack_require__("./src/ui/helpers/useTooltip.tsx"));const Primary=(()=>{const UT=(0,_src_ui_helpers_useTooltip__WEBPACK_IMPORTED_MODULE_2__.f)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{"data-type":"parent",style:{border:"solid 1px black",position:"relative",display:"flex",width:"80%",margin:"auto",marginTop:"5rem"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UT.Comp,{pos:UT.pos,children:({data})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{width:"10rem",height:"100px",backgroundColor:"#333"},children:["content: ",data.test]})}),"parent",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{width:"15rem",height:"10rem",border:"solid 1px black",position:"relative"},onMouseLeave:()=>UT.setPos(void 0),onMouseMove:element=>{UT.setPos({element,parent:element.currentTarget.closest("[data-type='parent']"),data:{test:"test1"}})},children:"child"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{width:"15rem",height:"10rem",border:"solid 1px black",position:"relative",marginLeft:"auto"},onMouseLeave:()=>UT.setPos(void 0),onMouseMove:element=>{UT.setPos({element,parent:element.currentTarget.closest("[data-type='parent']"),data:{test:"test2"}})},children:"child"})]})}).bind({}),Global=(()=>{const UT=(0,_src_ui_helpers_useTooltip__WEBPACK_IMPORTED_MODULE_2__.f)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{"data-type":"parent",style:{position:"relative"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{width:"10rem",height:"1ch",border:"solid 1px black",position:"relative",marginLeft:"auto"},onMouseLeave:()=>UT.setPos(void 0),onMouseMove:element=>{UT.setPos({element,parent:null,data:{test:"test2"}})},children:"child"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UT.Comp,{pos:UT.pos,children:({data})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{width:"10rem",height:"100px",backgroundColor:"#333"},children:["content: ",data.test]})})]})}).bind({});Primary.args={};const __WEBPACK_DEFAULT_EXPORT__={title:"UI/useTooltip"},__namedExportsOrder=["Primary","Global"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"() => {\n  const UT = useTooltip<ITest>();\n  return <div data-type=\"parent\" style={{\n    border: 'solid 1px black',\n    position: 'relative',\n    display: 'flex',\n    width: '80%',\n    margin: 'auto',\n    marginTop: '5rem'\n  }}>\n      <UT.Comp pos={UT.pos}>\n        {({\n        data\n      }) => <div style={{\n        width: '10rem',\n        height: '100px',\n        backgroundColor: '#333'\n      }}>\n            content: {data.test}\n          </div>}\n      </UT.Comp>\n      parent\n      <div style={{\n      width: '15rem',\n      height: '10rem',\n      border: 'solid 1px black',\n      position: 'relative'\n    }} onMouseLeave={() => UT.setPos(undefined)} onMouseMove={element => {\n      UT.setPos({\n        element,\n        parent: element.currentTarget.closest(\"[data-type='parent']\"),\n        data: {\n          test: 'test1'\n        }\n      });\n    }}>\n        child\n      </div>\n      <div style={{\n      width: '15rem',\n      height: '10rem',\n      border: 'solid 1px black',\n      position: 'relative',\n      marginLeft: 'auto'\n    }} onMouseLeave={() => UT.setPos(undefined)} onMouseMove={element => {\n      UT.setPos({\n        element,\n        parent: element.currentTarget.closest(\"[data-type='parent']\"),\n        data: {\n          test: 'test2'\n        }\n      });\n    }}>\n        child\n      </div>\n    </div>;\n}",...Primary.parameters?.docs?.source}}},Global.parameters={...Global.parameters,docs:{...Global.parameters?.docs,source:{originalSource:"() => {\n  const UT = useTooltip<ITest>();\n  return <div data-type=\"parent\" style={{\n    position: 'relative'\n  }}>\n      <div style={{\n      width: '10rem',\n      height: '1ch',\n      border: 'solid 1px black',\n      position: 'relative',\n      marginLeft: 'auto'\n    }} onMouseLeave={() => UT.setPos(undefined)} onMouseMove={element => {\n      UT.setPos({\n        element,\n        parent: null,\n        data: {\n          test: 'test2'\n        }\n      });\n    }}>\n        child\n      </div>\n      <UT.Comp pos={UT.pos}>\n        {({\n        data\n      }) => <div style={{\n        width: '10rem',\n        height: '100px',\n        backgroundColor: '#333'\n      }}>\n            content: {data.test}\n          </div>}\n      </UT.Comp>\n    </div>;\n}",...Global.parameters?.docs?.source}}}},"./node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom.production.js":(__unused_webpack_module,exports,__webpack_require__)=>{var React=__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/index.js");function formatProdErrorMessage(code){var url="https://react.dev/errors/"+code;if(1<arguments.length){url+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)url+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+code+"; visit "+url+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function noop(){}var Internals={d:{f:noop,r:function(){throw Error(formatProdErrorMessage(522))},D:noop,C:noop,L:noop,m:noop,X:noop,S:noop,M:noop},p:0,findDOMNode:null},REACT_PORTAL_TYPE=Symbol.for("react.portal");var ReactSharedInternals=React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function getCrossOriginStringAs(as,input){return"font"===as?"":"string"==typeof input?"use-credentials"===input?input:"":void 0}exports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Internals,exports.createPortal=function(children,container){var key=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!container||1!==container.nodeType&&9!==container.nodeType&&11!==container.nodeType)throw Error(formatProdErrorMessage(299));return function createPortal$1(children,containerInfo,implementation){var key=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:REACT_PORTAL_TYPE,key:null==key?null:""+key,children,containerInfo,implementation}}(children,container,null,key)},exports.flushSync=function(fn){var previousTransition=ReactSharedInternals.T,previousUpdatePriority=Internals.p;try{if(ReactSharedInternals.T=null,Internals.p=2,fn)return fn()}finally{ReactSharedInternals.T=previousTransition,Internals.p=previousUpdatePriority,Internals.d.f()}},exports.preconnect=function(href,options){"string"==typeof href&&(options?options="string"==typeof(options=options.crossOrigin)?"use-credentials"===options?options:"":void 0:options=null,Internals.d.C(href,options))},exports.prefetchDNS=function(href){"string"==typeof href&&Internals.d.D(href)},exports.preinit=function(href,options){if("string"==typeof href&&options&&"string"==typeof options.as){var as=options.as,crossOrigin=getCrossOriginStringAs(as,options.crossOrigin),integrity="string"==typeof options.integrity?options.integrity:void 0,fetchPriority="string"==typeof options.fetchPriority?options.fetchPriority:void 0;"style"===as?Internals.d.S(href,"string"==typeof options.precedence?options.precedence:void 0,{crossOrigin,integrity,fetchPriority}):"script"===as&&Internals.d.X(href,{crossOrigin,integrity,fetchPriority,nonce:"string"==typeof options.nonce?options.nonce:void 0})}},exports.preinitModule=function(href,options){if("string"==typeof href)if("object"==typeof options&&null!==options){if(null==options.as||"script"===options.as){var crossOrigin=getCrossOriginStringAs(options.as,options.crossOrigin);Internals.d.M(href,{crossOrigin,integrity:"string"==typeof options.integrity?options.integrity:void 0,nonce:"string"==typeof options.nonce?options.nonce:void 0})}}else null==options&&Internals.d.M(href)},exports.preload=function(href,options){if("string"==typeof href&&"object"==typeof options&&null!==options&&"string"==typeof options.as){var as=options.as,crossOrigin=getCrossOriginStringAs(as,options.crossOrigin);Internals.d.L(href,as,{crossOrigin,integrity:"string"==typeof options.integrity?options.integrity:void 0,nonce:"string"==typeof options.nonce?options.nonce:void 0,type:"string"==typeof options.type?options.type:void 0,fetchPriority:"string"==typeof options.fetchPriority?options.fetchPriority:void 0,referrerPolicy:"string"==typeof options.referrerPolicy?options.referrerPolicy:void 0,imageSrcSet:"string"==typeof options.imageSrcSet?options.imageSrcSet:void 0,imageSizes:"string"==typeof options.imageSizes?options.imageSizes:void 0,media:"string"==typeof options.media?options.media:void 0})}},exports.preloadModule=function(href,options){if("string"==typeof href)if(options){var crossOrigin=getCrossOriginStringAs(options.as,options.crossOrigin);Internals.d.m(href,{as:"string"==typeof options.as&&"script"!==options.as?options.as:void 0,crossOrigin,integrity:"string"==typeof options.integrity?options.integrity:void 0})}else Internals.d.m(href)},exports.requestFormReset=function(form){Internals.d.r(form)},exports.unstable_batchedUpdates=function(fn,a){return fn(a)},exports.useFormState=function(action,initialState,permalink){return ReactSharedInternals.H.useFormState(action,initialState,permalink)},exports.useFormStatus=function(){return ReactSharedInternals.H.useHostTransitionStatus()},exports.version="19.1.0"},"./node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{!function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(err){console.error(err)}}(),module.exports=__webpack_require__("./node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom.production.js")},"./src/ui/helpers/useTooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>useTooltip});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/jsx-runtime.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@emotion+styled@11.14.0_@emotion+react@11.14.0_@types+react@19.1.2_react@19.1.0__@types+react@19.1.2_react@19.1.0/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/index.js");const Base=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.A.div`
  position: absolute;
  z-index: 10;
`,Comp=({pos,children})=>{const ref=(0,react__WEBPACK_IMPORTED_MODULE_2__.createRef)(),[size,setSize]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();if((0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{if(!ref.current||size)return;const tooltipWidth=Math.max(ref.current.clientWidth,ref.current.scrollWidth),tooltipHeight=Math.max(ref.current.clientHeight,ref.current.scrollHeight);0!==tooltipHeight&&0!==tooltipWidth&&setSize({tooltipWidth,tooltipHeight})}),[ref,size]),!pos)return null;let left,right,top,bottom;if(size){left=pos.x+5;const newRight=pos.parentWidth-pos.x+5;pos.x+5+size.tooltipWidth>pos.parentWidth&&(left=void 0,right=newRight),top=pos.y+5,top+size.tooltipHeight>pos.parentHeight&&(top=pos.hasParent?void 0:pos.parentHeight-size.tooltipHeight,bottom=pos.parentHeight-pos.y),right&&right+size.tooltipWidth>pos.parentWidth&&(pos.hasParent&&(right=void 0),left=0),bottom&&bottom+size.tooltipHeight>pos.parentHeight&&(pos.hasParent&&(bottom=void 0),top=0)}const Content=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Base,{"data-type":"tooltip-content",ref,style:{left,right,top,bottom,...!pos.hasParent&&{position:"fixed"},...!size&&{zIndex:-1}},children:children(pos,size)}),e=document.querySelector(`#${pos.portalId}`);return!pos.hasParent&&e?(0,react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal)(Content,e):Content},useTooltip=p=>{const portalId=p?.portalId||"ag-tooltip-portal",[pos,setPosRaw]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{if(document.querySelectorAll(`#${portalId}`).length>0)return;const d=document.createElement("div");return d.id=portalId,document.body.appendChild(d),()=>{try{document.querySelector(`#${portalId}`)?.remove()}catch(e){}}}),[]);return{Comp,setPos:p=>{if(!p)return void setPosRaw(void 0);let parentTop=0,parentLeft=0,parentWidth=document.body.clientWidth,parentHeight=document.body.clientHeight,x=0,y=0;p.parent?(({top:parentTop,left:parentLeft,width:parentWidth,height:parentHeight}=p.parent.getBoundingClientRect()),x=p.element.pageX-parentLeft,y=p.element.pageY-parentTop):(parentWidth=window.innerWidth,parentHeight=window.innerHeight,x=p.element.clientX,y=p.element.clientY);const p2={cursor:p.element,data:p.data,parentWidth,parentHeight,x,y,hasParent:!!p.parent,portalId};setPosRaw(p2)},pos}}}}]);
//# sourceMappingURL=useTooltip-stories.acf689dc.iframe.bundle.js.map