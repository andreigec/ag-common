{"version":3,"file":"TextWithButton-stories.3911282d.iframe.bundle.js","mappings":";;;;AAUA;;;;;;;;;;;;AAcA;;;;;;;;;;;;;;;;;;;;AA8BA","sources":["webpack://ag-common/./src/ui/components/TextWithButton/index.tsx"],"sourcesContent":["'use client';\nimport styled from '@emotion/styled';\nimport React, { useState } from 'react';\n\nconst Base = styled.div`\n  display: flex;\n  flex-flow: row;\n  max-height: 100%;\n`;\n\nconst Input = styled.input`\n  flex-grow: 1;\n  border: solid 3px #ccc;\n  border-right: 0;\n  padding-left: 0.5rem;\n  border-radius: 0.5rem 0 0 0.5rem;\n  overflow: hidden;\n  font-size: 1.2rem;\n  &[data-valid='false'] {\n    border-color: indianred;\n  }\n  outline: 0;\n`;\n\nconst Button = styled.button`\n  padding: 2rem;\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n  border: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgb(136 119 227);\n  color: white;\n  font-weight: bold;\n  border-radius: 0 0.5rem 0.5rem 0;\n  overflow: hidden;\n  user-select: none;\n  cursor: pointer;\n  &[data-valid='false'] {\n    cursor: not-allowed;\n    border-color: indianred;\n    background-color: #ccc;\n  }\n`;\nexport interface ITextWithButton {\n  /** default \"Submit\" */\n  submitText?: string;\n  placeholder?: string;\n  /** if provided will validate and block submission accordingly */\n  validateF?: (s: string) => boolean;\n  onSubmit: (s: string) => void;\n}\n\nexport const TextWithButton = ({\n  submitText = 'Submit',\n  placeholder,\n  validateF,\n  onSubmit,\n}: ITextWithButton) => {\n  const [value, setValue] = useState('');\n  const valid = !validateF ? true : validateF(value);\n\n  return (\n    <Base>\n      <Input\n        data-type=\"input\"\n        data-valid={valid}\n        placeholder={placeholder}\n        value={value}\n        onChange={(s) => setValue(s.target.value)}\n        onKeyDown={(e) => e.key === 'Enter' && valid && onSubmit(value)}\n      />\n      <Button\n        data-type=\"button\"\n        data-valid={valid}\n        disabled={!valid}\n        onClick={() => valid && onSubmit(value)}\n      >\n        {submitText}\n      </Button>\n    </Base>\n  );\n};\n"],"names":[],"sourceRoot":""}