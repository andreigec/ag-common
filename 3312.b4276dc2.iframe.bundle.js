"use strict";(self.webpackChunkag_common=self.webpackChunkag_common||[]).push([[3312],{"./src/ui/components/ProgressBar/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>ProgressBar});var _emotion_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@emotion+styled@11.11.5_@emotion+react@11.11.4_@types+react@18.3.3_react@18.3.1__@types+react@18.3.3_react@18.3.1/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/ui/styles/index.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _templateObject(){var data=_tagged_template_literal(["\n  position: relative;\n  min-width: 5rem;\n  width: 100%;\n  height: 2rem;\n  border-radius: 1rem;\n  overflow: hidden;\n"]);return _templateObject=function _templateObject(){return data},data}function _templateObject1(){var data=_tagged_template_literal(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n"]);return _templateObject1=function _templateObject(){return data},data}function _templateObject2(){var data=_tagged_template_literal(["\n  position: absolute;\n  top: calc(50% - 0.25rem);\n  width: 0.5rem;\n  height: 0.5rem;\n  background-color: #aaa;\n  z-index: 1;\n  border-radius: 50%;\n  &[data-invert='true'] {\n    background-color: #333;\n  }\n"]);return _templateObject2=function _templateObject(){return data},data}var Base=_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A.div(_templateObject()),Bar=_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A.div(_templateObject1()),Dot=_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A.div(_templateObject2()),ProgressBar=function(p){var _p_transitionToMs=p.transitionToMs,transitionToMs=void 0===_p_transitionToMs?200:_p_transitionToMs,_p_frontColour=p.frontColour,frontColour=void 0===_p_frontColour?_styles__WEBPACK_IMPORTED_MODULE_2__.M8.notificationBlue:_p_frontColour,_p_backColour=p.backColour,backColour=void 0===_p_backColour?"#eee":_p_backColour,_p_dotPercentages=p.dotPercentages,dotPercentages=void 0===_p_dotPercentages?[25,50,75]:_p_dotPercentages,_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(p.min/p.max*100),2),barWidth=_useState[0],setBarWidth=_useState[1];return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){var newbw=p.min/p.max*100;barWidth!==newbw&&setBarWidth(newbw)}),[p.min,p.max]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){transitionToMs&&setBarWidth(p.max)}),[]),react__WEBPACK_IMPORTED_MODULE_1__.createElement(Base,{style:{backgroundColor:backColour},className:p.className},react__WEBPACK_IMPORTED_MODULE_1__.createElement(Bar,{style:{width:"".concat(barWidth,"%"),backgroundColor:frontColour,transition:"width ".concat(transitionToMs,"ms linear")}}),null==dotPercentages?void 0:dotPercentages.map((function(v){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(Dot,{key:v,style:{left:"calc(".concat(v,"% - 0.25rem)")},"data-invert":v>barWidth})})))};ProgressBar.__docgenInfo={description:"",methods:[],displayName:"ProgressBar",props:{min:{required:!0,tsType:{name:"number"},description:""},max:{required:!0,tsType:{name:"number"},description:""},frontColour:{required:!1,tsType:{name:"string"},description:"default #4d76ff"},backColour:{required:!1,tsType:{name:"string"},description:"default #eee"},dotPercentages:{required:!1,tsType:{name:"union",raw:"number[] | null",elements:[{name:"Array",elements:[{name:"number"}],raw:"number[]"},{name:"null"}]},description:"default 25,50,75"},className:{required:!1,tsType:{name:"string"},description:""},transitionToMs:{required:!1,tsType:{name:"number"},description:"if true, will transition to the end in X ms"}}}},"./src/ui/components/Toast/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$o:()=>ToastContext,tE:()=>ToastProvider});var emotion_styled_browser_esm=__webpack_require__("./node_modules/.pnpm/@emotion+styled@11.11.5_@emotion+react@11.11.4_@types+react@18.3.3_react@18.3.1__@types+react@18.3.3_react@18.3.1/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),react=__webpack_require__("./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function random(max,seed){var rnd=(9301*(seed=null!=seed?seed:(new Date).getTime())+49297)%233280/233280;return Math.ceil(rnd*max)}var Warning=__webpack_require__("./src/ui/icons/Warning.tsx"),common=__webpack_require__("./src/ui/styles/common.tsx"),FlexColumn=__webpack_require__("./src/ui/components/FlexColumn/index.tsx"),FlexRow=__webpack_require__("./src/ui/components/FlexRow/index.tsx"),ProgressBar=__webpack_require__("./src/ui/components/ProgressBar/index.tsx"),Cross=function(){return react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},react.createElement("defs",null,react.createElement("linearGradient",{id:"a",x2:"0",y1:"47.37",y2:"-1.429",gradientUnits:"userSpaceOnUse"},react.createElement("stop",{stopColor:"#c52828"}),react.createElement("stop",{offset:"1",stopColor:"#ff5454"}))),react.createElement("g",{style:{fillOpacity:1},transform:"translate(-58.37 .882) scale(.99999)"},react.createElement("circle",{cx:"82.37",cy:"23.12",r:"24",fill:"url(#a)",style:{fillOpacity:1,fill:"#d33"}}),react.createElement("path",{fill:"#fff",fillOpacity:".842",d:"m87.77 23.725 5.939-5.939c.377-.372.566-.835.566-1.373 0-.54-.189-.997-.566-1.374l-2.747-2.747a1.888 1.888 0 0 0-1.373-.564c-.539 0-.997.186-1.374.564l-5.939 5.939-5.939-5.939a1.889 1.889 0 0 0-1.374-.564c-.539 0-.997.186-1.374.564l-2.748 2.747a1.873 1.873 0 0 0-.566 1.374c0 .54.188.997.566 1.373l5.939 5.939-5.939 5.94a1.862 1.862 0 0 0-.566 1.373c0 .54.188.997.566 1.373l2.748 2.747c.377.378.835.564 1.374.564.539 0 .997-.186 1.374-.564l5.939-5.939 5.94 5.939c.377.378.835.564 1.374.564.539 0 .997-.186 1.373-.564l2.747-2.747c.377-.372.566-.835.566-1.373 0-.54-.188-.997-.566-1.373l-5.939-5.94",style:{fillOpacity:1,fill:"#fff"}})))};Cross.__docgenInfo={description:"",methods:[],displayName:"Cross"};var Tick=function(){return react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},react.createElement("circle",{cx:"32",cy:"32",r:"30",fill:"#fff"}),react.createElement("path",{fill:"#7cb342",d:"M32 2C15.431 2 2 15.432 2 32c0 16.568 13.432 30 30 30 16.568 0 30-13.432 30-30C62 15.432 48.568 2 32 2zm-6.975 48-.02-.02-.017.02L11 35.6l7.029-7.164 6.977 7.184 21-21.619L53 21.199 25.025 50z"}))};function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||_unsupported_iterable_to_array(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupported_iterable_to_array(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_array_like_to_array(o,minLen):void 0}}function _templateObject(){var data=_tagged_template_literal(["\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  margin: 0.5rem;\n  z-index: 10000;\n\n  display: flex;\n  flex-flow: column;\n  align-items: flex-end;\n  max-width: 50vw;\n"]);return _templateObject=function _templateObject(){return data},data}function _templateObject1(){var data=_tagged_template_literal(["\n  display: flex;\n  flex-flow: row wrap;\n  align-items: center;\n  padding: 0.5rem;\n  position: relative;\n  font-size: 1.2rem;\n  &:not(:last-of-type) {\n    margin-bottom: 8px;\n  }\n\n  border: solid 1px;\n  border-radius: 6px;\n"]);return _templateObject1=function _templateObject(){return data},data}function _templateObject2(){var data=_tagged_template_literal(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 0.5rem;\n  height: 0.5rem;\n\n  cursor: pointer;\n  border-radius: 50%;\n  padding: 0.5rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  z-index: 1;\n  &:hover {\n    background-color: var(--bg);\n  }\n"]);return _templateObject2=function _templateObject(){return data},data}function _templateObject3(){var data=_tagged_template_literal(["\n  width: 1.5rem;\n  height: 1.5rem;\n  margin-right: 0.5rem;\n"]);return _templateObject3=function _templateObject(){return data},data}function _templateObject4(){var data=_tagged_template_literal(["\n  height: 0.75rem;\n  margin-top: 0.5rem;\n"]);return _templateObject4=function _templateObject(){return data},data}Tick.__docgenInfo={description:"",methods:[],displayName:"Tick"};var ToastContext=(0,react.createContext)({}),ToastContainerStyle=emotion_styled_browser_esm.A.div(_templateObject()),ToastStyle=emotion_styled_browser_esm.A.div(_templateObject1()),CloseStyle=emotion_styled_browser_esm.A.span(_templateObject2()),Icon=emotion_styled_browser_esm.A.div(_templateObject3()),ProgressBarStyled=(0,emotion_styled_browser_esm.A)(ProgressBar.z)(_templateObject4()),Toast=function(param){var _toast_options,_toast_options1,_toast_options2,closeMs,toast=param.toast,close=param.close,style=param.style;if(null===(_toast_options=toast.options)||void 0===_toast_options?void 0:_toast_options.autoClose)closeMs=toast.options.autoClose;else if(void 0===(null===(_toast_options1=toast.options)||void 0===_toast_options1?void 0:_toast_options1.autoClose)){var _toast_options3;closeMs="success"===(null===(_toast_options3=toast.options)||void 0===_toast_options3?void 0:_toast_options3.appearance)?5e3:1e4}var icon=react.createElement(Tick,null);switch(null===(_toast_options2=toast.options)||void 0===_toast_options2?void 0:_toast_options2.appearance){case"error":icon=react.createElement(Cross,null);break;case"warning":icon=react.createElement(Warning.N,null);break;default:icon=react.createElement(Tick,null)}(0,react.useEffect)((function(){if(closeMs){var timeout=setTimeout((function(){return close(toast.id)}),closeMs);return function(){return clearTimeout(timeout)}}}),[]);var closeStyle={color:style.color,"--bg":style.borderColor},toastStyle=_object_spread_props(_object_spread({},style),{boxShadow:"hsl(from ".concat(style.borderColor," h s 25%) 0px 7px 29px 0px")});return"standard"===toast.type?react.createElement(ToastStyle,{style:toastStyle},react.createElement(CloseStyle,{onClick:function(){return close(toast.id)},style:closeStyle},"×"),react.createElement(Icon,{style:{fill:style.color}},icon),toast.message,void 0!==closeMs&&react.createElement(ProgressBarStyled,{max:100,min:0,dotPercentages:null,transitionToMs:closeMs})):react.createElement(ToastStyle,{style:toastStyle},react.createElement(CloseStyle,{onClick:function(){return close(toast.id)},style:closeStyle},"×"),react.createElement(FlexRow.Y,{noWrap:!0,center:!0},void 0===toast.icon&&react.createElement(Icon,null,icon),toast.icon,react.createElement(FlexColumn.I,{style:{marginLeft:null===toast.icon?"0":"0.5rem"}},react.createElement("b",null,toast.title),toast.content)),void 0!==closeMs&&react.createElement(ProgressBarStyled,{max:100,min:0,dotPercentages:null,transitionToMs:closeMs}))},ToastProvider=function(param){var children=param.children,providerOptions=param.providerOptions,_useState=_sliced_to_array((0,react.useState)([]),2),toasts=_useState[0],setToasts=_useState[1],addToast=function(message,options){return setToasts((function(currentToasts){return _to_consumable_array(currentToasts.filter((function(ct){return"detailed"===ct.type||ct.message!==message||JSON.stringify(ct.options)!==JSON.stringify(options)}))).concat([{id:random(1e4).toString(),message,options,type:"standard"}])}))},addToastDetailed=function(p,options){return setToasts((function(currentToasts){return _to_consumable_array(currentToasts).concat([_object_spread_props(_object_spread({id:random(1e4).toString()},p),{options,type:"detailed"})])}))},close=function(id){return setToasts((function(currentToasts){return currentToasts.filter((function(toast){return toast.id!==id}))}))},contextValue=(0,react.useMemo)((function(){return{addToast,addToastDetailed}}),[]),style=(0,common.QS)(null==providerOptions?void 0:providerOptions.style);return react.createElement(ToastContext.Provider,{value:contextValue},children,react.createElement(ToastContainerStyle,null,toasts.map((function(toast){return react.createElement(Toast,{key:toast.id,toast,close,style})}))))};Toast.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{toast:{required:!0,tsType:{name:"union",raw:"IToastStandard | IToastDetailed",elements:[{name:"IToastStandard"},{name:"IToastDetailed"}]},description:""},style:{required:!0,tsType:{name:"IVarStyles"},description:""},close:{required:!0,tsType:{name:"signature",type:"function",raw:"(s: string) => void",signature:{arguments:[{type:{name:"string"},name:"s"}],return:{name:"void"}}},description:""}}},ToastProvider.__docgenInfo={description:"",methods:[],displayName:"ToastProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},providerOptions:{required:!1,tsType:{name:"IToastProviderOptions"},description:""}}}}}]);