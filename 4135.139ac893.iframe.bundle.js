"use strict";(self.webpackChunkag_common=self.webpackChunkag_common||[]).push([[4135],{"./src/common/helpers/date.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AC:()=>dateDiff,SP:()=>dayInMs,fi:()=>addDays,iO:()=>twelveHMs});var _math__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/common/helpers/math.ts");const addDays=(dIn,count)=>{const d=new Date(dIn);return d.setDate(d.getDate()+count),d},dateDiff=(lowDate,highDate)=>{const ticksSince=(highDate??new Date).getTime()-lowDate.getTime(),totalMinutes=(0,_math__WEBPACK_IMPORTED_MODULE_0__.Cz)(ticksSince/1e3/60,0),totalHours=(0,_math__WEBPACK_IMPORTED_MODULE_0__.Cz)(totalMinutes/60,0),totalDays=(0,_math__WEBPACK_IMPORTED_MODULE_0__.Cz)(totalHours/24,0);return{totalMinutes,totalHours,totalDays,totalYears:(0,_math__WEBPACK_IMPORTED_MODULE_0__.Cz)(totalDays/365,0)}},dayInMs=864e5,twelveHMs=432e5},"./src/common/helpers/groupBy.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function groupByList(arr,getKey){const ret=[];return arr.forEach(item=>{const key=getKey(item),i=ret.find(r=>r.key===key);i?i.items.push(item):ret.push({key,items:[item]})}),ret}__webpack_require__.d(__webpack_exports__,{Bg:()=>groupByList})},"./src/common/helpers/log.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z3:()=>error,R8:()=>warn});var array=__webpack_require__("./src/common/helpers/array.ts");function redactString(str){let ret=str;ret=ret||"";const repl="$1<redacted>$2";return ret=ret.replace(/(\b)grant_type.+?(\b)/gm,repl),ret=ret.replace(/(\b)Bearer .+?(\b)/gm,repl),ret=ret.replace(/(eyJ[\w-_.]*\.[\w-_.]*\.[\w-_.]*)/gim,"<redacted>"),ret}var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");const GetLogLevel=l=>["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"].findIndex(s=>s===l);let logShim;let userLogLevel;function logprocess(type,args){userLogLevel||(l=>{const lu=(l??"INFO").toUpperCase();-1!==GetLogLevel(lu)&&(userLogLevel=lu)})(process.env.LOG_LEVEL);const min=GetLogLevel(userLogLevel??"WARN");if(GetLogLevel(type)<min)return;const log=[`[${(new Date).toLocaleTimeString("en-GB")}]`,type,...args.filter(array.z2).map(s=>function redactObject(ob){if("string"==typeof ob)return redactString(ob);if("object"==typeof ob)try{return JSON.parse(redactString(JSON.stringify(ob)))}catch(e){return ob}return ob}(s))];if(logShim)logShim(...log);else switch(type){case"TRACE":console.trace(...log);break;case"DEBUG":console.debug(...log);break;case"INFO":default:console.log(...log);break;case"WARN":console.warn(...log);break;case"ERROR":case"FATAL":console.error(...log)}}function printStackTrace(...args){const callstack=[];let isCallstackPopulated=!1;try{throw new Error("Test")}catch(e){const er=e;if(er.stack){const lines=er.stack.split("\n");for(let i=0,len=lines.length;i<len;i+=1)callstack.push(` ${lines[i]} `);callstack.shift(),isCallstackPopulated=!0}else if(window.opera&&er.message){const lines=er.message.split("\n");for(let i=0,len=lines.length;i<len;i+=1)if(lines[i].match(/^\s*[A-Za-z0-9\-_$]+\(/)){let entry=lines[i];lines[i+1]&&(entry+=` at ${lines[i+1]}`,i+=1),callstack.push(entry)}callstack.shift(),isCallstackPopulated=!0}}if(!isCallstackPopulated){let currentFunction=args.callee.caller;for(;currentFunction;){const fn=currentFunction.toString(),fname=fn.substring(fn.indexOf("function")+8,fn.indexOf("("))??"anonymous";callstack.push(fname),currentFunction=currentFunction.caller}}return callstack.join("\n")}const warn=(...args)=>logprocess("WARN",args),error=(...args)=>{args.push(printStackTrace()),logprocess("ERROR",args)}},"./src/common/helpers/math.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cz:()=>toFixedDown,RM:()=>sumArray,gO:()=>rangePercentage});function sumArray(array){return array.reduce((a,b)=>a+b,0)}function toFixedDown(num,scale){if(!`${num}`.includes("e"))return+`${Math.round(`${num}e+${scale}`)}e-${scale}`;const arr=`${num}`.split("e");let sig="";return+arr[1]+scale>0&&(sig="+"),+`${Math.round(`${+arr[0]}e${sig}${+arr[1]+scale}`)}e-${scale}`}function rangePercentage({value,min,max}){const v=function clamp({value,min,max}){return value<min?min:value>max?max:value}({value,min,max}),r=(v-min)/(max-min);return isNaN(r)?0:r}},"./src/common/helpers/stream.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__("./src/common/helpers/log.ts")},"./src/common/helpers/string/base64.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>fromBase64,n:()=>toBase64});var buffer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js");const toBase64=str=>buffer__WEBPACK_IMPORTED_MODULE_0__.hp.from(str).toString("base64"),fromBase64=str=>buffer__WEBPACK_IMPORTED_MODULE_0__.hp.from(decodeURIComponent(str),"base64").toString()},"./src/common/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ey:()=>array.ey,Bg:()=>groupBy.Bg,s5:()=>hashCode_hashCode,iO:()=>date.iO});var array=__webpack_require__("./src/common/helpers/array.ts");__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js"),__webpack_require__("./src/common/helpers/string/base64.ts");var date=__webpack_require__("./src/common/helpers/date.ts");__webpack_require__("./src/common/helpers/log.ts");var groupBy=__webpack_require__("./src/common/helpers/groupBy.ts");const hashCode_hashCode=(str,seed=0)=>((str,seed=0)=>{if(!str)return 0;let h1=3735928559^seed,h2=1103547991^seed;for(let ch,i=0;i<str.length;i+=1)ch=str.charCodeAt(i),h1=Math.imul(h1^ch,2654435761),h2=Math.imul(h2^ch,1597334677);return h1=Math.imul(h1^h1>>>16,2246822507)^Math.imul(h2^h2>>>13,3266489909),h2=Math.imul(h2^h2>>>16,2246822507)^Math.imul(h1^h1>>>13,3266489909),4294967296*(2097151&h2)+(h1>>>0)})(str,seed).toString();__webpack_require__("./src/common/helpers/stream.ts")},"./src/ui/components/Chevron/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>Chevron});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/jsx-runtime.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@emotion+styled@11.14.1_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@types+react@19.1.8_react@19.1.0/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),_icons_ChevronRight__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/index.js"),__webpack_require__("./src/ui/icons/ChevronRight.tsx")),_Icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/ui/components/Icon/index.tsx");const Base=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.A.span`
  font-size: 2rem;
  display: flex;
  justify-content: center;
  align-items: center;
`,IconStyled=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.A)(_Icon__WEBPACK_IMPORTED_MODULE_4__.I)`
  cursor: pointer;
  margin: 0;
  padding: 0;
`,Chevron=({width="1.2rem",className,colour="black",onToggle,point="right"})=>{let rotate=0;switch(point){case"down":rotate=90;break;case"left":rotate=180;break;case"up":rotate=270;break;case"right":rotate=0}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Base,{className,onClick:()=>onToggle?.(),onTouchStart:()=>onToggle?.(),onKeyDown:e=>"Enter"===e.key&&onToggle?.(),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconStyled,{rotate,style:{width,height:width,fill:colour},children:_icons_ChevronRight__WEBPACK_IMPORTED_MODULE_3__.c})})};Chevron.__docgenInfo={description:"",methods:[],displayName:"Chevron",props:{point:{required:!1,tsType:{name:"union",raw:"'up' | 'down' | 'left' | 'right'",elements:[{name:"literal",value:"'up'"},{name:"literal",value:"'down'"},{name:"literal",value:"'left'"},{name:"literal",value:"'right'"}]},description:"default right",defaultValue:{value:"'right'",computed:!1}},colour:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'black'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'1.2rem'",computed:!1}},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},"./src/ui/helpers/cookie/const.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>maxCookieLen,a:()=>expireDate});const expireDate="Thu, 01 Jan 1970 00:00:00 UTC",maxCookieLen=4e3},"./src/ui/helpers/cookie/get.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>getCookieRawWrapper});var _common_helpers_log__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/common/helpers/log.ts"),_common_helpers_string_base64__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/common/helpers/string/base64.ts"),_raw__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/ui/helpers/cookie/raw.ts");function getCookieRawWrapper({name,cookieDocument,defaultValue,parse:parseRaw}){let raw="",currentCount=0;for(;;){const newv=(0,_raw__WEBPACK_IMPORTED_MODULE_2__.Ri)({name:name+currentCount,cookieDocument});if(void 0===newv)break;raw+=newv,currentCount+=1}try{return raw?null==(s=(0,_common_helpers_string_base64__WEBPACK_IMPORTED_MODULE_1__.E)(raw))?defaultValue:parseRaw?parseRaw(s):JSON.parse(s):defaultValue}catch(e){return(0,_common_helpers_log__WEBPACK_IMPORTED_MODULE_0__.R8)("cookie error:",e),(0,_raw__WEBPACK_IMPORTED_MODULE_2__.ft)(name),defaultValue}var s}},"./src/ui/helpers/cookie/raw.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ri:()=>getCookie,TV:()=>setCookie,ft:()=>wipeCookies});var _common_helpers_log__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/common/helpers/log.ts"),_const__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ui/helpers/cookie/const.ts");const getCookie=({name,cookieDocument})=>(cookieString=>{const cookieKeyValuePairs={};if(!cookieString)return cookieKeyValuePairs;const cookieArr=cookieString.split(";");for(let i=0;i<cookieArr.length;i++){const cookieKeyValue=cookieArr[i].split("=");cookieKeyValuePairs[cookieKeyValue[0].trim()]=cookieKeyValue[1]?.trim()}return cookieKeyValuePairs})(cookieDocument)[name];function setCookie({name,value,expiryDays=1}){if("undefined"==typeof window)return;const d=new Date;d.setTime(d.getTime()+24*expiryDays*60*60*1e3);const expires=`expires=${!value||expiryDays<0?_const__WEBPACK_IMPORTED_MODULE_1__.a:d.toUTCString()}`;document.cookie=`${name}=${value||""};${expires};path=/; SameSite=Strict; Secure`}function wipeCookies(name){if("undefined"==typeof window)return void(0,_common_helpers_log__WEBPACK_IMPORTED_MODULE_0__.R8)("cant wipe cookies on server");let currentCount=0;for(;;){if(!getCookie({name:name+currentCount,cookieDocument:document.cookie}))return;setCookie({name:name+currentCount,value:"",expiryDays:-1}),currentCount+=1}}},"./src/ui/helpers/cookie/set.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>setCookieRawWrapper});var base64=__webpack_require__("./src/common/helpers/string/base64.ts");const chunkString=(str,length)=>str.match(new RegExp(`.{1,${length}}`,"g"));var cookie_const=__webpack_require__("./src/ui/helpers/cookie/const.ts"),raw=__webpack_require__("./src/ui/helpers/cookie/raw.ts");function setCookieRawWrapper(p){if((0,raw.ft)(p.name),void 0===p.value)return;const str=(0,base64.n)((s=p.value,p.stringify?p.stringify(s):JSON.stringify(s)));var s;const chunks=chunkString(str,cookie_const.A);for(const index1 in chunks){const chunk=chunks[index1];(0,raw.TV)({...p,name:p.name+index1,value:chunk})}}},"./src/ui/helpers/cookie/use.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GH:()=>useCookie});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/index.js"),_get__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ui/helpers/cookie/get.ts"),_set__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/ui/helpers/cookie/set.ts");function useCookie(p){const stringify=s=>p.stringify?p.stringify(s):JSON.stringify(s),[cookie,setCookie]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((0,_get__WEBPACK_IMPORTED_MODULE_1__.E)({...p,parse:s=>s?p.parse?p.parse(s):JSON.parse(s):p.defaultValue})??p.defaultValue);return[cookie,valueRaw=>{const value=valueRaw instanceof Function?valueRaw(cookie):valueRaw;(0,_set__WEBPACK_IMPORTED_MODULE_2__.G)({...p,stringify,value}),setCookie(value)}]}},"./src/ui/helpers/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Wr:()=>useOnClickOutside.W});__webpack_require__("./src/common/helpers/log.ts");__webpack_require__("./node_modules/.pnpm/node-cache@5.1.2/node_modules/node-cache/index.js"),__webpack_require__("./src/common/helpers/string/base64.ts"),__webpack_require__("./src/ui/helpers/cookie/get.ts"),__webpack_require__("./src/ui/helpers/cookie/raw.ts"),__webpack_require__("./src/ui/helpers/cookie/set.ts"),__webpack_require__("./src/ui/helpers/cookie/use.ts");var react=__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/index.js");__webpack_require__("./src/common/helpers/stream.ts");__webpack_require__("./src/ui/helpers/useGranularHook.ts");__webpack_require__("./src/ui/helpers/debounce.ts"),__webpack_require__("./src/common/index.ts");"undefined"!=typeof window?react.useLayoutEffect:react.useEffect;__webpack_require__("./src/ui/helpers/useLockBodyScroll.ts");var useOnClickOutside=__webpack_require__("./src/ui/helpers/useOnClickOutside.ts");__webpack_require__("./src/ui/helpers/useResize.ts");__webpack_require__("./src/ui/helpers/useTooltip.tsx")},"./src/ui/helpers/useGranularHook.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>useGranularEffect});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/index.js");const useGranularEffect=(effect,primaryDeps,secondaryDeps)=>((hook,callback,primaryDeps,secondaryDeps)=>{const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return ref.current&&primaryDeps.every((w,i)=>Object.is(w,ref.current?.[i]))||(ref.current=[...primaryDeps,...secondaryDeps]),hook(callback,ref.current)})(react__WEBPACK_IMPORTED_MODULE_0__.useEffect,effect,primaryDeps,secondaryDeps)},"./src/ui/helpers/useResize.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>useResize});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/index.js"),_styles_media__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ui/styles/media.ts");function getWindowDimensions(){if("undefined"==typeof window)return;const width=window.innerWidth;return{width,height:window.innerHeight,smallScreen:width<=_styles_media__WEBPACK_IMPORTED_MODULE_1__.kX,bigScreen:width>_styles_media__WEBPACK_IMPORTED_MODULE_1__.kX,vBigScreen:width>_styles_media__WEBPACK_IMPORTED_MODULE_1__.do}}function useResize(){const[windowDimensions,setWindowDimensions]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(getWindowDimensions());return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{function handleResize(){const wd=getWindowDimensions();JSON.stringify(windowDimensions)!==JSON.stringify(wd)&&setWindowDimensions(wd)}return window.addEventListener("resize",handleResize),handleResize(),()=>{try{window.removeEventListener("resize",handleResize)}catch(e){}}},[windowDimensions]),windowDimensions}},"./src/ui/helpers/useTooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>useTooltip});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/jsx-runtime.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@emotion+styled@11.14.1_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@types+react@19.1.8_react@19.1.0/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/index.js");const Base=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.A.div`
  position: absolute;
  z-index: 10;
`,Comp=({pos,children})=>{const ref=(0,react__WEBPACK_IMPORTED_MODULE_2__.createRef)(),[size,setSize]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();if((0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{if(!ref.current||size)return;const tooltipWidth=Math.max(ref.current.clientWidth,ref.current.scrollWidth),tooltipHeight=Math.max(ref.current.clientHeight,ref.current.scrollHeight);0!==tooltipHeight&&0!==tooltipWidth&&setSize({tooltipWidth,tooltipHeight})},[ref,size]),!pos)return null;let left,right,top,bottom;if(size){left=pos.x+5;const newRight=pos.parentWidth-pos.x+5;pos.x+5+size.tooltipWidth>pos.parentWidth&&(left=void 0,right=newRight),top=pos.y+5,top+size.tooltipHeight>pos.parentHeight&&(top=pos.hasParent?void 0:pos.parentHeight-size.tooltipHeight,bottom=pos.parentHeight-pos.y),right&&right+size.tooltipWidth>pos.parentWidth&&(pos.hasParent&&(right=void 0),left=0),bottom&&bottom+size.tooltipHeight>pos.parentHeight&&(pos.hasParent&&(bottom=void 0),top=0)}const Content=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Base,{"data-type":"tooltip-content",ref,style:{left,right,top,bottom,...!pos.hasParent&&{position:"fixed"},...!size&&{zIndex:-1}},children:children(pos,size)}),e=document.querySelector(`#${pos.portalId}`);return!pos.hasParent&&e?(0,react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal)(Content,e):Content},useTooltip=p=>{const portalId=p?.portalId||"ag-tooltip-portal",[pos,setPosRaw]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{if(document.querySelectorAll(`#${portalId}`).length>0)return;const d=document.createElement("div");return d.id=portalId,document.body.appendChild(d),()=>{try{document.querySelector(`#${portalId}`)?.remove()}catch(e){}}},[]);return{Comp,setPos:p=>{if(!p)return void setPosRaw(void 0);let parentTop=0,parentLeft=0,parentWidth=document.body.clientWidth,parentHeight=document.body.clientHeight,x=0,y=0;p.parent?(({top:parentTop,left:parentLeft,width:parentWidth,height:parentHeight}=p.parent.getBoundingClientRect()),x=p.element.pageX-parentLeft,y=p.element.pageY-parentTop):(parentWidth=window.innerWidth,parentHeight=window.innerHeight,x=p.element.clientX,y=p.element.clientY);const p2={cursor:p.element,data:p.data,parentWidth,parentHeight,x,y,hasParent:!!p.parent,portalId};setPosRaw(p2)},pos}}}}]);
//# sourceMappingURL=4135.139ac893.iframe.bundle.js.map