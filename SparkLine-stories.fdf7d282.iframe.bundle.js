"use strict";(self.webpackChunkag_common=self.webpackChunkag_common||[]).push([[904],{"./src/common/helpers/array.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ct:()=>flat,G:()=>arrayToObject,Kl:()=>findLastIndex,NV:()=>insertElementAtIndex,ey:()=>distinctBy,s:()=>take,z2:()=>notEmpty});const arrayToObject=(arr,keyF,valueF)=>{const ret={};return arr&&keyF?(arr.forEach(v=>{const k=keyF(v);ret[k]=valueF(v)}),ret):ret},flat=arr=>[].concat(...arr),take=(array,num)=>{const safeNum=Math.max(0,Math.min(num,array.length));return{part:array.slice(0,safeNum),rest:array.slice(safeNum)}},notEmpty=value=>null!=value&&!1!==value&&""!==value;function distinctBy(data,key,ignoreEmpty){if(!data||0===data.length)return data;const hashSet=new Set;return data.filter(x=>{let keyVal;return keyVal="string"==typeof key?x[key]:key(x),!(!keyVal&&ignoreEmpty)&&(!hashSet.has(keyVal)&&(hashSet.add(keyVal),!0))})}function findLastIndex(arr,predicate){for(let i=arr.length-1;i>=0;i--)if(predicate(arr[i],i,arr))return i;return-1}const insertElementAtIndex=(arr,element,index)=>[...arr.slice(0,index),element,...arr.slice(index)]},"./src/common/helpers/math.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cz:()=>toFixedDown,RM:()=>sumArray,gO:()=>rangePercentage});function sumArray(array){return array.reduce((a,b)=>a+b,0)}function toFixedDown(num,scale){if(!`${num}`.includes("e"))return+`${Math.round(`${num}e+${scale}`)}e-${scale}`;const arr=`${num}`.split("e");let sig="";return+arr[1]+scale>0&&(sig="+"),+`${Math.round(`${+arr[0]}e${sig}${+arr[1]+scale}`)}e-${scale}`}function rangePercentage({value,min,max}){const v=function clamp({value,min,max}){return value<min?min:value>max?max:value}({value,min,max}),r=(v-min)/(max-min);return isNaN(r)?0:r}},"./src/ui/components/SparkLine/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>SparkLine});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/jsx-runtime.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@emotion+styled@11.14.1_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@types+react@19.1.8_react@19.1.0/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),_common_helpers_array__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/index.js"),__webpack_require__("./src/common/helpers/array.ts")),_common_helpers_math__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/common/helpers/math.ts");const Base=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.A.div`
  width: calc(100% - 1px);
  height: calc(100% - 1px);
  border: solid 1px #666;
  padding: 0;
  display: flex;
  justify-content: center;
  align-items: flex-end;
  overflow: hidden;
`,Points=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.A.div`
  position: relative;
  width: calc(100% - ${2}px);
  height: calc(100% - ${2}px);
  margin-left: ${2}px;
`,Point=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.A.div`
  position: absolute;
  width: ${2}px;
`,SparkLine=p=>{const{data:raw,pointColour="#4d76ff"}=p,xMin=Math.min(...raw.map(d=>d.x)),xMax=Math.max(...raw.map(d=>d.x)),yMin=Math.min(...raw.map(d=>d.y)),yMax=Math.max(...raw.map(d=>d.y)),data=(0,_common_helpers_array__WEBPACK_IMPORTED_MODULE_3__.ey)(raw.map(orig=>({x:100*(0,_common_helpers_math__WEBPACK_IMPORTED_MODULE_4__.gO)({value:orig.x,min:xMin,max:xMax}),y:100*(0,_common_helpers_math__WEBPACK_IMPORTED_MODULE_4__.gO)({value:orig.y,min:yMin,max:yMax}),orig})),s=>s.x);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Base,{className:p.className,title:p.title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Points,{children:data.map(pt=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Point,{title:p.pointTitleF?.(pt.orig)??"",style:{backgroundColor:pointColour,borderColor:pointColour,left:`calc(${pt.x}% - 2px)`,bottom:0,height:`calc(${pt.y}% + 2px)`}},pt.x+" "+pt.y))})})};SparkLine.__docgenInfo={description:"",methods:[],displayName:"SparkLine",props:{pointColour:{required:!1,tsType:{name:"string"},description:"default #4d76ff"},className:{required:!1,tsType:{name:"string"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ x: number; y: number }",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}}],raw:"TSparkLineData[]"},description:""},pointTitleF:{required:!1,tsType:{name:"signature",type:"function",raw:"(p: TSparkLineData) => string",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ x: number; y: number }",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}},name:"p"}],return:{name:"string"}}},description:""},title:{required:!1,tsType:{name:"string"},description:""}}}},"./stories/SparkLine.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultWithArgs:()=>DefaultWithArgs,Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/jsx-runtime.js"),_src_ui_components_SparkLine__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/.pnpm/react@19.1.0/node_modules/react/index.js"),__webpack_require__("./src/ui/components/SparkLine/index.tsx"));const base={title:"UI/SparkLine",component:_src_ui_components_SparkLine__WEBPACK_IMPORTED_MODULE_2__.E},Primary=(args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{width:"4rem",height:"1rem",backgroundColor:"#ccc"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src_ui_components_SparkLine__WEBPACK_IMPORTED_MODULE_2__.E,{...args})})).bind({});Primary.args={data:[{x:1,y:1},{x:5,y:5},{x:10,y:1}],pointTitleF:v=>JSON.stringify(v),pointColour:"red"};const __WEBPACK_DEFAULT_EXPORT__=base,DefaultWithArgs=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primary,{...Primary.args}),__namedExportsOrder=["Primary","DefaultWithArgs"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"args => <div style={{\n  width: '4rem',\n  height: '1rem',\n  backgroundColor: '#ccc'\n}}>\n    <SparkLine {...args} />\n  </div>",...Primary.parameters?.docs?.source}}},DefaultWithArgs.parameters={...DefaultWithArgs.parameters,docs:{...DefaultWithArgs.parameters?.docs,source:{originalSource:"() => <Primary {...Primary.args as ISparkLine} />",...DefaultWithArgs.parameters?.docs?.source}}}}}]);
//# sourceMappingURL=SparkLine-stories.fdf7d282.iframe.bundle.js.map