"use strict";(self.webpackChunkag_common=self.webpackChunkag_common||[]).push([[1156],{"./stories/Markdown.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_src_ui_components_Markdown__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ui/components/Markdown/index.tsx"),app={title:"UI/Markdown",component:_src_ui_components_Markdown__WEBPACK_IMPORTED_MODULE_1__.o},Primary=function(args){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_ui_components_Markdown__WEBPACK_IMPORTED_MODULE_1__.o,args))}.bind({});Primary.args={markdown:"# h1\n## h2\n### h3\n\n** bold ** not bold ** bold **\n\n| Tables   |      Are      |  Cool |\n|----------|:-------------:|------:|\n| col 1 is |  left-aligned | $1600 |\n| col 2 is |    centered   |   $12 |\n| col 3 is | right-aligned |    $1 |\n\n1. 1\n2. 2\n3. 3\n\n* a\n* b\n* c\n\n- a\n- b\n- c\n\nnormal text\n\n"};const __WEBPACK_DEFAULT_EXPORT__=app;Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"args => <div style={{}}>\n    <Markdown {...args} />\n  </div>",...Primary.parameters?.docs?.source}}};const __namedExportsOrder=["Primary"]},"./src/common/helpers/array.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _instance;__webpack_require__.d(__webpack_exports__,{Ct:()=>flat,G:()=>arrayToObject,Kl:()=>findLastIndex,NV:()=>insertElementAtIndex,ey:()=>distinctBy,s:()=>take,z2:()=>notEmpty});var arrayToObject=function(arr,keyF,valueF){var ret={};return arr&&keyF?(arr.forEach((function(v){var k=keyF(v);ret[k]=valueF(v)})),ret):ret},flat=function(arr){return(_instance=[]).concat.apply(_instance,_to_consumable_array(arr))},take=function(array,num){var ret=JSON.parse(JSON.stringify(array));return{part:ret.slice(0,num),rest:ret.slice(num)}},notEmpty=function(value){return null!=value&&!1!==value&&""!==value};function distinctBy(data,key,ignoreEmpty){if(!data||0===data.length)return data;var hashSet=new Set;return data.filter((function(x){var keyVal;return!(!(keyVal="string"==typeof key?x[key]:key(x))&&ignoreEmpty)&&(!hashSet.has(keyVal)&&(hashSet.add(keyVal),!0))}))}function findLastIndex(arr,predicate){for(var i=arr.length-1;i>=0;i--)if(predicate(arr[i],i,arr))return i;return-1}var insertElementAtIndex=function(arr,element,index){return _to_consumable_array(arr.slice(0,index)).concat([element],_to_consumable_array(arr.slice(index)))}},"./src/ui/components/Markdown/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>Markdown});var emotion_styled_browser_esm=__webpack_require__("./node_modules/.pnpm/@emotion+styled@11.11.5_@emotion+react@11.11.4_@types+react@18.3.3_react@18.3.1__@types+react@18.3.3_react@18.3.1/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),react=__webpack_require__("./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),common=__webpack_require__("./src/common/index.ts"),array=__webpack_require__("./src/common/helpers/array.ts");function trimSide(str){for(var fromStart=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],_len=arguments.length,params=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)params[_key-2]=arguments[_key];var pstr=params.join("");if(!str)return str;var ret=str.replace(new RegExp("[".concat(pstr,"]*$"),"g"),"");return fromStart?ret.replace(new RegExp("^[".concat(pstr,"]*"),"g"),""):ret}function _templateObject(){var data=function _tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  > * {\n    margin: 0;\n    white-space: pre-wrap;\n  }\n  ul {\n    display: grid;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  ol,\n  ul,\n  table {\n    margin-bottom: 1rem;\n  }\n"]);return _templateObject=function _templateObject(){return data},data}var injectTable=function(param){var tableRows=param.tableRows,preprocessText=param.preprocessText;return react.createElement("table",{key:(0,common.s5)(JSON.stringify(tableRows))},react.createElement("thead",null,react.createElement("tr",null,tableRows[0].split("|").map((function(header){return header.trim()})).map((function(header){return react.createElement("th",{key:header},preprocessText(header))})))),react.createElement("tbody",null,tableRows.slice(2).map((function(row){var cells=row.split("|").map((function(cell){return cell.trim()}));return react.createElement("tr",{key:row},cells.map((function(cell){return react.createElement("td",{key:cell},preprocessText(cell))})))}))))},injectGroup=function(param){for(var output=param.output,pos=param.pos,wrap=param.wrap,outputEndIndex=output.length,sum=[],a=pos.outputIndex;a<=outputEndIndex;a+=1)sum.push(output[a]),delete output[a];return output=(0,array.NV)(output,wrap(sum),pos.outputIndex)};var Base=emotion_styled_browser_esm.A.div(_templateObject()),Markdown=function(p){return react.createElement(Base,{className:p.className},function renderMarkdown(param){var ol,ul,markdown=param.markdown,_param_preprocessText=param.preprocessText,preprocessText=void 0===_param_preprocessText?function(s){return s}:_param_preprocessText,lines=markdown.split("\n"),output=[],tableRows=[],a=-1;do{var _lines_a,line=null!==(_lines_a=lines[a+=1])&&void 0!==_lines_a?_lines_a:"",la=line+a,star=/\*\*(.*?)\*\*/gim;if(line.match(star))output.push(react.createElement("p",{key:la,dangerouslySetInnerHTML:{__html:line.replace(star,"<b>$1</b>").trim()}}));else if(line.startsWith("|"))tableRows.push(line);else if(tableRows.length>0&&(output.push(injectTable({tableRows,preprocessText})),tableRows=[]),line.match(/^[0-9]+\./gim)?void 0===ol&&(ol={matchLine:line,outputIndex:output.length}):ol&&ol.matchLine!==line&&(output=injectGroup({output,pos:ol,wrap:function(i){return react.createElement("ol",{key:i[0].key},i)}}),ol=void 0),line.startsWith("-")||line.startsWith("*")?void 0===ul&&(ul={matchLine:line,outputIndex:output.length}):ul&&ul.matchLine!==line&&(output=injectGroup({output,pos:ul,wrap:function(i){return react.createElement("ul",{key:i[0].key},i)}}),ul=void 0),line.startsWith("#")){var _line_match_,_line_match,_line_match__length,level=null!==(_line_match__length=null===(_line_match=line.match(/^#+/))||void 0===_line_match||null===(_line_match_=_line_match[0])||void 0===_line_match_?void 0:_line_match_.length)&&void 0!==_line_match__length?_line_match__length:0,t=trimSide(line,!0,"#").trim();1===level?output.push(react.createElement("h1",{key:t},preprocessText(t))):2===level?output.push(react.createElement("h2",{key:t},preprocessText(t))):3===level?output.push(react.createElement("h3",{key:t},preprocessText(t))):4===level?output.push(react.createElement("h4",{key:t},preprocessText(t))):5===level?output.push(react.createElement("h5",{key:t},preprocessText(t))):level>=6&&output.push(react.createElement("h6",{key:t},preprocessText(t)))}else if(line.startsWith("*")||line.startsWith("-")){var t1=line.slice(2).trim();t1.length>0&&output.push(react.createElement("li",{key:t1},preprocessText(t1)))}else if(line.match(/^[0-9]+\./gim)){var t2=line.slice(3).trim();t2.length>0&&output.push(react.createElement("li",{key:t2},preprocessText(t2)))}else line.length>0&&output.push(react.createElement("p",{key:la},preprocessText(line)))}while(a<lines.length);return output}({preprocessText:p.preprocessText,markdown:p.markdown.trim()}))};Markdown.__docgenInfo={description:"",methods:[],displayName:"Markdown",props:{markdown:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},preprocessText:{required:!1,tsType:{name:"signature",type:"function",raw:"(s: string) => string | JSX.Element",signature:{arguments:[{type:{name:"string"},name:"s"}],return:{name:"union",raw:"string | JSX.Element",elements:[{name:"string"},{name:"JSX.Element"}]}}},description:"run after html is generated for markdown, but before applied"}}}}}]);