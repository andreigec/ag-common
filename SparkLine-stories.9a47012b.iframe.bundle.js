"use strict";(self.webpackChunkag_common=self.webpackChunkag_common||[]).push([[904],{"./stories/SparkLine.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultWithArgs:()=>DefaultWithArgs,Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_src_ui_components_SparkLine__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ui/components/SparkLine/index.tsx"),base={title:"UI/SparkLine",component:_src_ui_components_SparkLine__WEBPACK_IMPORTED_MODULE_1__.E},Primary=function(args){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{width:"4rem",height:"1rem",backgroundColor:"#ccc"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_ui_components_SparkLine__WEBPACK_IMPORTED_MODULE_1__.E,args))}.bind({});Primary.args={data:[{x:1,y:1},{x:5,y:5},{x:10,y:1}],pointTitleF:function(v){return JSON.stringify(v)},pointColour:"red"};const __WEBPACK_DEFAULT_EXPORT__=base;var DefaultWithArgs=function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Primary,Primary.args)};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"args => <div style={{\n  width: '4rem',\n  height: '1rem',\n  backgroundColor: '#ccc'\n}}>\n    <SparkLine {...args} />\n  </div>",...Primary.parameters?.docs?.source}}},DefaultWithArgs.parameters={...DefaultWithArgs.parameters,docs:{...DefaultWithArgs.parameters?.docs,source:{originalSource:"() => <Primary {...(Primary.args as ISparkLine)} />",...DefaultWithArgs.parameters?.docs?.source}}};const __namedExportsOrder=["Primary","DefaultWithArgs"]},"./src/common/helpers/array.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _instance;__webpack_require__.d(__webpack_exports__,{Ct:()=>flat,G:()=>arrayToObject,Kl:()=>findLastIndex,NV:()=>insertElementAtIndex,ey:()=>distinctBy,s:()=>take,z2:()=>notEmpty});var arrayToObject=function(arr,keyF,valueF){var ret={};return arr&&keyF?(arr.forEach((function(v){var k=keyF(v);ret[k]=valueF(v)})),ret):ret},flat=function(arr){return(_instance=[]).concat.apply(_instance,_to_consumable_array(arr))},take=function(array,num){var ret=JSON.parse(JSON.stringify(array));return{part:ret.slice(0,num),rest:ret.slice(num)}},notEmpty=function(value){return null!=value&&!1!==value&&""!==value};function distinctBy(data,key,ignoreEmpty){if(!data||0===data.length)return data;var hashSet=new Set;return data.filter((function(x){var keyVal;return!(!(keyVal="string"==typeof key?x[key]:key(x))&&ignoreEmpty)&&(!hashSet.has(keyVal)&&(hashSet.add(keyVal),!0))}))}function findLastIndex(arr,predicate){for(var i=arr.length-1;i>=0;i--)if(predicate(arr[i],i,arr))return i;return-1}var insertElementAtIndex=function(arr,element,index){return _to_consumable_array(arr.slice(0,index)).concat([element],_to_consumable_array(arr.slice(index)))}},"./src/common/helpers/math.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cz:()=>toFixedDown,RM:()=>sumArray,gO:()=>rangePercentage});function sumArray(array){return array.reduce((function(a,b){return a+b}),0)}function toFixedDown(num,scale){if(!"".concat(num).includes("e"))return+"".concat(Math.round("".concat(num,"e+").concat(scale)),"e-").concat(scale);var arr="".concat(num).split("e"),sig="";return+arr[1]+scale>0&&(sig="+"),+"".concat(Math.round("".concat(+arr[0],"e").concat(sig).concat(+arr[1]+scale)),"e-").concat(scale)}function rangePercentage(param){var value=param.value,min=param.min,max=param.max,v=function clamp(param){var value=param.value,min=param.min,max=param.max;return value<min?min:value>max?max:value}({value,min,max}),r=(v-min)/(max-min);return isNaN(r)?0:r}},"./src/ui/components/SparkLine/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>SparkLine});var _emotion_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@emotion+styled@11.11.5_@emotion+react@11.11.4_@types+react@18.3.3_react@18.3.1__@types+react@18.3.3_react@18.3.1/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_common_helpers_array__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/common/helpers/array.ts"),_common_helpers_math__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/common/helpers/math.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _templateObject(){var data=_tagged_template_literal(["\n  width: calc(100% - 1px);\n  height: calc(100% - 1px);\n  border: solid 1px #666;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  overflow: hidden;\n"]);return _templateObject=function _templateObject(){return data},data}function _templateObject1(){var data=_tagged_template_literal(["\n  position: relative;\n  width: calc(100% - ","px);\n  height: calc(100% - ","px);\n  margin-left: ","px;\n"]);return _templateObject1=function _templateObject(){return data},data}function _templateObject2(){var data=_tagged_template_literal(["\n  position: absolute;\n  width: ","px;\n"]);return _templateObject2=function _templateObject(){return data},data}var Base=_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A.div(_templateObject()),Points=_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A.div(_templateObject1(),2,2,2),Point=_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A.div(_templateObject2(),2),SparkLine=function(p){var _Math,_Math1,_Math2,_Math3,raw=p.data,_p_pointColour=p.pointColour,pointColour=void 0===_p_pointColour?"#4d76ff":_p_pointColour,xMin=(_Math=Math).min.apply(_Math,_to_consumable_array(raw.map((function(d){return d.x})))),xMax=(_Math1=Math).max.apply(_Math1,_to_consumable_array(raw.map((function(d){return d.x})))),yMin=(_Math2=Math).min.apply(_Math2,_to_consumable_array(raw.map((function(d){return d.y})))),yMax=(_Math3=Math).max.apply(_Math3,_to_consumable_array(raw.map((function(d){return d.y})))),data=(0,_common_helpers_array__WEBPACK_IMPORTED_MODULE_2__.ey)(raw.map((function(orig){return{x:100*(0,_common_helpers_math__WEBPACK_IMPORTED_MODULE_3__.gO)({value:orig.x,min:xMin,max:xMax}),y:100*(0,_common_helpers_math__WEBPACK_IMPORTED_MODULE_3__.gO)({value:orig.y,min:yMin,max:yMax}),orig}})),(function(s){return s.x}));return react__WEBPACK_IMPORTED_MODULE_1__.createElement(Base,{className:p.className,title:p.title},react__WEBPACK_IMPORTED_MODULE_1__.createElement(Points,null,data.map((function(pt){var _p_pointTitleF,_p_pointTitleF1;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(Point,{title:null!==(_p_pointTitleF1=null===(_p_pointTitleF=p.pointTitleF)||void 0===_p_pointTitleF?void 0:_p_pointTitleF.call(p,pt.orig))&&void 0!==_p_pointTitleF1?_p_pointTitleF1:"",key:pt.x+" "+pt.y,style:{backgroundColor:pointColour,borderColor:pointColour,left:"calc(".concat(pt.x,"% - ").concat(2,"px)"),bottom:0,height:"calc(".concat(pt.y,"% + ").concat(2,"px)")}})}))))};SparkLine.__docgenInfo={description:"",methods:[],displayName:"SparkLine",props:{pointColour:{required:!1,tsType:{name:"string"},description:"default #4d76ff"},className:{required:!1,tsType:{name:"string"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ x: number; y: number }",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}}],raw:"TSparkLineData[]"},description:""},pointTitleF:{required:!1,tsType:{name:"signature",type:"function",raw:"(p: TSparkLineData) => string",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ x: number; y: number }",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}},name:"p"}],return:{name:"string"}}},description:""},title:{required:!1,tsType:{name:"string"},description:""}}}}}]);