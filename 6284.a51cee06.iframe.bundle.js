"use strict";(self.webpackChunkag_common=self.webpackChunkag_common||[]).push([[6284],{"./src/ui/components/OpenApiCodeBlock/OpenApiCodeBlock.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>OpenApiCodeBlock});var emotion_styled_browser_esm=__webpack_require__("./node_modules/.pnpm/@emotion+styled@11.14.0_@emotion+react@11.14.0_@types+react@19.0.8_react@19.0.0__@types+react@19.0.8_react@19.0.0/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),react=__webpack_require__("./node_modules/.pnpm/react@19.0.0/node_modules/react/index.js"),FlexRow=__webpack_require__("./src/ui/components/FlexRow/index.tsx"),array=__webpack_require__("./src/common/helpers/array.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _templateObject(){var data=_tagged_template_literal(["\n  color: green;\n"]);return _templateObject=function _templateObject(){return data},data}function _templateObject1(){var data=_tagged_template_literal(["\n  color: indianred;\n"]);return _templateObject1=function _templateObject(){return data},data}var Highlight=emotion_styled_browser_esm.A.span(_templateObject()),Highlight2=emotion_styled_browser_esm.A.span(_templateObject1()),getApiUrl=function(p){return p.schema.servers[0].url},getBodyJson=function(p){var body=p.funcF.toString(),bstart=function(str,char){for(var num=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,ret=-1,c=0;c<=num;c+=1)ret=str.indexOf(char,ret+1);if(-1!==ret)return ret}(body,"(",1),bend=bstart?body.lastIndexOf(")"):void 0;if(bstart&&bend&&bend-bstart!=1){var raw=body.substring(bstart+1,bend),cleaned=raw.replace(/([a-zA-Z0-9-]+[^"]):/gim,'"$1":').replace(/'/gim,'"');return{nice:JSON.stringify(JSON.parse(cleaned),null,2),raw}}},getSecurity=function(p,param){var _operation_security,security1=null===(_operation_security=param.operation.security)||void 0===_operation_security?void 0:_operation_security[0],security2=security1?Object.keys(security1)[0]:void 0,security=security2?p.schema.components.securitySchemes[security2]:void 0;if(security)return"header"!==security.in?null:security},joinJsx=function(items,sep){var ret=[];return items.filter(array.z2).forEach((function(i,index){if(ret.push(i),index!==items.length-1){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=sep[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var s=_step.value;ret.push(s)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}})),ret},getCurlLines=function(ops,p){var operation=ops.operation,path=ops.path,verb=ops.verb,withPath=ops.fullApiUrl+path,secline=function(p,param){var operation=param.operation,sec=getSecurity(p,{operation});return null===sec?{error:"not supported sec in",content:void 0}:sec?{content:react.createElement(react.Fragment,null,react.createElement("span",null,"--header "),react.createElement(Highlight,null,"'",sec.name,": ",react.createElement(Highlight2,null,p.apiKey||"(API KEY)"),"'"))}:{content:void 0}}(p,{operation});if(secline.error)return{error:secline.error};var bodyLines=function(p){var _getBodyJson,nice=(null!==(_getBodyJson=getBodyJson(p))&&void 0!==_getBodyJson?_getBodyJson:{}).nice;return nice?{content:react.createElement(react.Fragment,null,"-d @- <<'EOF'",react.createElement("br",null),react.createElement(Highlight2,null,nice),react.createElement("br",null),"EOF"),header:react.createElement(react.Fragment,null,react.createElement("span",null,"--header "),react.createElement(Highlight,null,react.createElement(Highlight,null,"'Content-Type: application/json'")))}:{content:void 0,header:void 0}}(p),headerLines=[];return secline.content&&headerLines.push(secline.content),bodyLines.header&&headerLines.push(bodyLines.header),{verb,path,error:void 0,headerLines,fullApiUrl:withPath,bodyLine:bodyLines.content,operation}};function curl_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return curl_array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function curl_unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return curl_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return curl_array_like_to_array(o,minLen)}(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function curl_templateObject(){var data=function curl_tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  white-space: pre;\n"]);return curl_templateObject=function _templateObject(){return data},data}var Base=emotion_styled_browser_esm.A.div(curl_templateObject()),Curl=function(param){var ops=param.ops,p=param.p,_getCurlLines=getCurlLines(ops,p),fullApiUrl=_getCurlLines.fullApiUrl,headerLines=_getCurlLines.headerLines,bodyLine=_getCurlLines.bodyLine,verb=ops.verb,rows=[react.createElement(react.Fragment,null,"curl --request ",verb.toUpperCase()),react.createElement(react.Fragment,null,"--url ",react.createElement(Highlight,null,"'",fullApiUrl,"'"))].concat(_to_consumable_array(null!=headerLines?headerLines:[]),[bodyLine]).filter(array.z2);return react.createElement(Base,null,joinJsx(rows,[react.createElement(react.Fragment,null," \\"),react.createElement("br",{key:"br1"})]))};Curl.__docgenInfo={description:"",methods:[],displayName:"Curl",props:{p:{required:!0,tsType:{name:"IOpenApiCodeBlock",elements:[{name:"TDefaultApi"}],raw:"IOpenApiCodeBlock<TDefaultApi>"},description:""},ops:{required:!0,tsType:{name:"IOpenApiOperationBlock"},description:""}}};var getFetchCall=function(p,ops){return react.createElement(react.Fragment,null,react.createElement(Highlight,null,"const")," response = ",react.createElement(Highlight,null,"await")," ",react.createElement(Highlight2,null,"fetch"),"(",react.createElement(Highlight,null,"'",ops.fullApiUrl,"'"),",  requestOptions);")};function req_templateObject(){var data=function req_tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  padding-left: 0.5rem;\n"]);return req_templateObject=function _templateObject(){return data},data}getFetchCall.__docgenInfo={description:"",methods:[],displayName:"getFetchCall",props:{schema:{required:!0,tsType:{name:"IOpenApi"},description:"openapi schema. eg\nconst schema: any = require('common/openapi.generated').default;"},apiKey:{required:!1,tsType:{name:"string"},description:""},funcF:{required:!0,tsType:{name:"signature",type:"function",raw:"(f: TDefaultApi) => Promise<any>",signature:{arguments:[{type:{name:"TDefaultApi"},name:"f"}],return:{name:"Promise",elements:[{name:"any"}],raw:"Promise<any>"}}},description:""}}};var rb=react.createElement(react.Fragment,null,"}"),lb=react.createElement(react.Fragment,null,"{"),Lpad=emotion_styled_browser_esm.A.div(req_templateObject()),getRequestOptions=function(p,ops){var _getBodyJson,nice=(null!==(_getBodyJson=getBodyJson(p))&&void 0!==_getBodyJson?_getBodyJson:{}).nice;if(nice){var h2,sec=getSecurity(p,ops),h1=react.createElement(react.Fragment,null," ",react.createElement(Highlight,null,"'Content-Type'"),":"," ",react.createElement(Highlight,null,"'application/json'"));sec&&(h2=react.createElement(react.Fragment,null," ",react.createElement(Highlight,null,"'",sec.name,"'"),":"," ",react.createElement(Highlight,null,"'",p.apiKey||"(API KEY)","'")));var header=sec?react.createElement(react.Fragment,null,"headers: ",lb,react.createElement(Lpad,null,joinJsx([h1,h2],[react.createElement(react.Fragment,null,","),react.createElement("br",{key:"br1"})])),rb,","):react.createElement(react.Fragment,null),body=react.createElement(react.Fragment,null,"body: ",react.createElement(Highlight2,null,"JSON"),".",react.createElement(Highlight,null,"stringify"),"(",nice,")");return react.createElement(react.Fragment,null,"const requestOptions = ",lb,react.createElement(Lpad,null,"method: ",react.createElement(Highlight,null,"'",ops.verb.toUpperCase(),"'"),",",react.createElement("br",null),header,react.createElement("br",null),body,react.createElement("br",null)),rb,";")}};getRequestOptions.__docgenInfo={description:"",methods:[],displayName:"getRequestOptions",props:{schema:{required:!0,tsType:{name:"IOpenApi"},description:"openapi schema. eg\nconst schema: any = require('common/openapi.generated').default;"},apiKey:{required:!1,tsType:{name:"string"},description:""},funcF:{required:!0,tsType:{name:"signature",type:"function",raw:"(f: TDefaultApi) => Promise<any>",signature:{arguments:[{type:{name:"TDefaultApi"},name:"f"}],return:{name:"Promise",elements:[{name:"any"}],raw:"Promise<any>"}}},description:""}}};function fetch_templateObject(){var data=function fetch_tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  white-space: pre;\n"]);return fetch_templateObject=function _templateObject(){return data},data}var fetch_Base=emotion_styled_browser_esm.A.div(fetch_templateObject()),Fetch=function(param){var ops=param.ops,p=param.p,reqContent=function(ops,p){var _getRequestOptions,operation=ops.operation,path=ops.path;return{verb:ops.verb,path,error:void 0,fullApiUrl:ops.fullApiUrl+path,reqContent:null!==(_getRequestOptions=getRequestOptions(p,ops))&&void 0!==_getRequestOptions?_getRequestOptions:void 0,operation}}(ops,p).reqContent,x=getFetchCall(0,ops);return react.createElement(fetch_Base,null,reqContent,react.createElement("br",null),react.createElement("br",null),x)};function OpenApiCodeBlock_tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function OpenApiCodeBlock_templateObject(){var data=OpenApiCodeBlock_tagged_template_literal(["\n  display: flex;\n  flex-flow: column;\n  width: calc(100% - 2rem);\n  flex-grow: 1;\n  border: solid 1px #333;\n  padding: 1rem;\n  overflow-y: auto;\n  max-height: calc(100% - 2rem);\n"]);return OpenApiCodeBlock_templateObject=function _templateObject(){return data},data}function OpenApiCodeBlock_templateObject1(){var data=OpenApiCodeBlock_tagged_template_literal(["\n  background-color: #333;\n  color: white;\n  margin-right: 0.5rem;\n  padding: 0.25rem;\n  font-size: 0.8rem;\n"]);return OpenApiCodeBlock_templateObject1=function _templateObject(){return data},data}function _templateObject2(){var data=OpenApiCodeBlock_tagged_template_literal(["\n  font-weight: bold;\n  font-size: 1.5rem;\n"]);return _templateObject2=function _templateObject(){return data},data}function _templateObject3(){var data=OpenApiCodeBlock_tagged_template_literal(["\n  color: #333;\n  font-size: 1.2rem;\n  margin-top: 2rem;\n"]);return _templateObject3=function _templateObject(){return data},data}function _templateObject4(){var data=OpenApiCodeBlock_tagged_template_literal(["\n  background-color: rgba(0, 0, 0, 0.1);\n  padding: 1rem;\n  margin-top: 0.5rem;\n"]);return _templateObject4=function _templateObject(){return data},data}Fetch.__docgenInfo={description:"",methods:[],displayName:"Fetch",props:{p:{required:!0,tsType:{name:"IOpenApiCodeBlock",elements:[{name:"TDefaultApi"}],raw:"IOpenApiCodeBlock<TDefaultApi>"},description:""},ops:{required:!0,tsType:{name:"IOpenApiOperationBlock"},description:""}}};var OpenApiCodeBlock_Base=emotion_styled_browser_esm.A.div(OpenApiCodeBlock_templateObject()),Verb=emotion_styled_browser_esm.A.div(OpenApiCodeBlock_templateObject1()),ApiName=emotion_styled_browser_esm.A.div(_templateObject2()),BlockTitle=emotion_styled_browser_esm.A.div(_templateObject3()),Block=emotion_styled_browser_esm.A.div(_templateObject4()),OpenApiCodeBlock=function(p){var ops=function(p){var path,verb,func=function(p){var ret=p.funcF.toString(),i1=ret.indexOf(".")+1,i2=ret.indexOf("(",i1);return ret.substring(i1,i2)}(p);return Object.entries(p.schema.paths).forEach((function(param){var _param=_sliced_to_array(param,2),pathN=_param[0],ops=_param[1];return Object.entries(ops).forEach((function(param){var _param=_sliced_to_array(param,2),verbN=_param[0],op=_param[1];op.operationId!==func&&op.operationId+"Raw"!==func||(path=pathN,verb=verbN)}))})),path&&verb?{operation:p.schema.paths[path][verb],verb,path,fullApiUrl:getApiUrl(p)}:{error:"operation not found"}}(p);if(ops.error||!ops.verb||!ops.operation)return react.createElement(OpenApiCodeBlock_Base,null,ops.error);var _operation_description,verb=ops.verb,operation=ops.operation,path=ops.path;return react.createElement(OpenApiCodeBlock_Base,null,react.createElement(FlexRow.Y,{center:!0,noGrow:!0},react.createElement(Verb,null,verb),react.createElement(ApiName,null,null!==(_operation_description=operation.description)&&void 0!==_operation_description?_operation_description:path)),react.createElement(BlockTitle,null,"Definition"),react.createElement(Block,null,verb.toUpperCase()," ",path),react.createElement(BlockTitle,null,"Example curl Request"),react.createElement(Block,null,react.createElement(Curl,{ops,p})),react.createElement(BlockTitle,null,"Example fetch Request"),react.createElement(Block,null,react.createElement(Fetch,{ops,p})))};OpenApiCodeBlock.__docgenInfo={description:"",methods:[],displayName:"OpenApiCodeBlock",props:{schema:{required:!0,tsType:{name:"IOpenApi"},description:"openapi schema. eg\nconst schema: any = require('common/openapi.generated').default;"},apiKey:{required:!1,tsType:{name:"string"},description:""},funcF:{required:!0,tsType:{name:"signature",type:"function",raw:"(f: TDefaultApi) => Promise<any>",signature:{arguments:[{type:{name:"TDefaultApi"},name:"f"}],return:{name:"Promise",elements:[{name:"any"}],raw:"Promise<any>"}}},description:""}}}}}]);