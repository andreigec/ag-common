"use strict";(self.webpackChunkag_common=self.webpackChunkag_common||[]).push([[1341],{"./src/ui/components/LineChart/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>LineChart});var emotion_styled_browser_esm=__webpack_require__("./node_modules/.pnpm/@emotion+styled@11.11.5_@emotion+react@11.11.4_@types+react@18.3.3_react@18.3.1__@types+react@18.3.3_react@18.3.1/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),react=__webpack_require__("./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),array=__webpack_require__("./src/common/helpers/array.ts"),math=__webpack_require__("./src/common/helpers/math.ts"),useTooltip=__webpack_require__("./src/ui/helpers/useTooltip.tsx"),common=__webpack_require__("./src/ui/styles/common.tsx"),FlexRow=__webpack_require__("./src/ui/components/FlexRow/index.tsx"),helpers_date=__webpack_require__("./src/common/helpers/date.ts");function plural(word,count){return word&&count&&count>1&&!["s","g"].find((function(w){return word.endsWith(w)}))?"".concat(word,"s"):word}var getDMY=function(date,opt){var _opt_dayOffset,date1=(0,helpers_date.fi)(date,null!==(_opt_dayOffset=null==opt?void 0:opt.dayOffset)&&void 0!==_opt_dayOffset?_opt_dayOffset:0),d=String(date1.getDate()).padStart(2,"0"),m=String(date1.getMonth()+1).padStart(2,"0"),y=date1.getFullYear();return(null==opt?void 0:opt.short)?"".concat(y.toString().substring(2,4),"-").concat(m,"-").concat(d):"".concat(y,"-").concat(m,"-").concat(d)},timeLegendTitle=function(s){return getDMY(new Date(s),{short:!0})},timeTooltipTitle=function(s){if(!s)return"";var dmy=getDMY(new Date(s)),diff="",d=new Date;if(d.getTime()-Number(s)<0)diff="Today";else{var d1=function(lowDate,highDate){var d=(0,helpers_date.AC)(lowDate,null!=highDate?highDate:new Date);if(isNaN(d.totalYears))return"";var ts="".concat(d.totalYears," ").concat(plural("yr",d.totalYears)," ago ");return d.totalMinutes<60?ts="".concat(d.totalMinutes," ").concat(plural("min",d.totalMinutes)," ago "):d.totalHours<24?ts="".concat(d.totalHours," ").concat(plural("hr",d.totalHours)," ago "):d.totalDays<365&&(ts="".concat(d.totalDays," ").concat(plural("day",d.totalDays)," ago ")),ts}(new Date(Number(s)),d);diff="(".concat(d1,")")}return"".concat(dmy," ").concat(diff)},object=__webpack_require__("./src/common/helpers/object.ts"),getLegendItems=function(p){var _p_selectedXs,_p_selectedXs_map,values=null!==(_p_selectedXs_map=null===(_p_selectedXs=p.selectedXs)||void 0===_p_selectedXs?void 0:_p_selectedXs.map((function(a){return{colour:p.colours[a.name],name:a.name,y:a.y,x:a.x}})))&&void 0!==_p_selectedXs_map?_p_selectedXs_map:[];(p.fixed||0===values.length)&&(values=function(param){var data=param.data,colours=param.colours,val={};data.forEach((function(d){val[d.name]?val[d.name].value+=d.y:val[d.name]={colour:colours[d.name],name:d.name,value:d.y}}));var values=Object.values(val).sort((function(a,b){return a.value<b.value?1:-1}));return(0,array.s)(values,4).part.map((function(v){return{colour:v.colour,name:v.name,y:v.value,x:0}}))}(p));var total=(0,math.RM)(values.map((function(a){return a.y}))),min=.1*total,part=values.sort((function(a,b){return a.y<b.y?1:-1})),rest=[];part.length>4&&(part=(0,array.s)(part.filter((function(r){return r.y>min})),4).part,rest=(0,object.C)(values).filter((function(r){return!part.find((function(p){return p.name===r.name}))})));var restTotal=(0,math.RM)(rest.map((function(s){return s.y})));return{part,rest,restTotal,total}},src_common=__webpack_require__("./src/common/index.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var interpolate=function(raw){var _Math,_Math1,_Math2,_Math3,points=[],xs=raw.map((function(r){return r.x})),ys=raw.map((function(r){return r.y})),xMin=(_Math=Math).min.apply(_Math,_to_consumable_array(xs)),xMax=(_Math1=Math).max.apply(_Math1,_to_consumable_array(xs)),yMin=(_Math2=Math).min.apply(_Math2,_to_consumable_array(ys)),yMax=(_Math3=Math).max.apply(_Math3,_to_consumable_array(ys)),xTime=!0;return(0,src_common.Bg)(raw.sort((function(a,b){return a.x<b.x?-1:1})),(function(a){return a.name})).map((function(param){var _points,items=param.items,p=items.map((function(p,i){var d,s;return xTime&&(d=p.x,!isNaN(Number(d))&&Number(d)<3456e5||"Invalid Date"===new Date(d).toString())&&(xTime=!1),{x1:100*(0,math.gO)({value:0===i?p.x:items[i-1].x,min:xMin,max:xMax}),x2:100*(0,math.gO)({value:p.x,min:xMin,max:xMax}),y1:100*(0,math.gO)({value:0===i?p.y:items[i-1].y,min:yMin,max:yMax}),y2:100*(0,math.gO)({value:p.y,min:yMin,max:yMax}),name:p.name,origX:p.x,origY:p.y,isToday:(s=p.x,!!s&&(new Date).getTime()-Number(s)<0),isLast:i===items.length-1}}));(_points=points).push.apply(_points,_to_consumable_array((0,src_common.ey)(p,(function(s){return JSON.stringify(s)}))))})),{points,xTime}},styles=__webpack_require__("./src/ui/styles/index.ts");function LegendX_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function LegendX_to_consumable_array(arr){return function LegendX_array_without_holes(arr){if(Array.isArray(arr))return LegendX_array_like_to_array(arr)}(arr)||function LegendX_iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function LegendX_unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return LegendX_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LegendX_array_like_to_array(o,minLen)}(arr)||function LegendX_non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _templateObject(){var data=_tagged_template_literal(["\n  display: flex;\n  flex-flow: column;\n  width: 100%;\n"]);return _templateObject=function _templateObject(){return data},data}function _templateObject1(){var data=_tagged_template_literal(["\n  width: 100%;\n  display: flex;\n  flex-flow: row;\n  position: relative;\n  margin-bottom: 0.25rem;\n"]);return _templateObject1=function _templateObject(){return data},data}function _templateObject2(){var data=_tagged_template_literal(["\n  position: absolute;\n  top: calc(50% - 1px);\n  height: 2px;\n  left: 0;\n  right: 0;\n"]);return _templateObject2=function _templateObject(){return data},data}function _templateObject3(){var data=_tagged_template_literal(["\n  width: 100%;\n  display: flex;\n  flex-flow: row;\n  justify-content: space-between;\n  z-index: 1;\n\n  @media "," {\n    [data-group='1'],\n    [data-group='2'] {\n      display: none;\n    }\n  }\n"]);return _templateObject3=function _templateObject(){return data},data}function _templateObject4(){var data=_tagged_template_literal(["\n  width: 100%;\n  display: flex;\n  flex-flow: row wrap;\n  position: relative;\n  justify-content: space-between;\n  margin-top: 0.5rem;\n"]);return _templateObject4=function _templateObject(){return data},data}function _templateObject5(){var data=_tagged_template_literal(["\n  display: flex;\n  flex-flow: row;\n  position: relative;\n  align-items: center;\n  &:not(:first-of-type) {\n    padding-left: 0.5rem;\n  }\n  &:not(:last-of-type) {\n    padding-right: 0.5rem;\n  }\n"]);return _templateObject5=function _templateObject(){return data},data}function _templateObject6(){var data=_tagged_template_literal(["\n  width: 1rem;\n  height: 1rem;\n  border-radius: 50%;\n  margin-right: 0.25rem;\n"]);return _templateObject6=function _templateObject(){return data},data}var Base=emotion_styled_browser_esm.A.div(_templateObject()),Bar=emotion_styled_browser_esm.A.div(_templateObject1()),Line=emotion_styled_browser_esm.A.div(_templateObject2()),Numbers=emotion_styled_browser_esm.A.div(_templateObject3(),styles.UN),Items=emotion_styled_browser_esm.A.div(_templateObject4()),Item=emotion_styled_browser_esm.A.div(_templateObject5()),Col=emotion_styled_browser_esm.A.div(_templateObject6()),LegendX=function(param){var _Math,_Math1,_Math2,data=param.data,lt=param.lt,tt=param.tt,colours=param.colours,style=param.style,legendItems=getLegendItems({data,colours,fixed:!0,lt,tt}).part,xs=data.map((function(a){return a.x})),ys=data.map((function(a){return a.y})),minX=(_Math=Math).min.apply(_Math,LegendX_to_consumable_array(xs)),maxX=(_Math1=Math).max.apply(_Math1,LegendX_to_consumable_array(xs)),maxY=(_Math2=Math).max.apply(_Math2,LegendX_to_consumable_array(ys)),itemsRaw=[{v:minX,group:0}],gap=(maxX-minX)/8;if(gap>src_common.iO)for(var a=1;a<8;a+=1)itemsRaw.push({v:itemsRaw[a-1].v+gap,group:a%3+1});itemsRaw.push({v:maxX,group:0});var items=itemsRaw.map((function(d){return{v:lt(d.v),group:d.group}})),ch=maxY.toString().length+1;return react.createElement(Base,{style:_object_spread_props(_object_spread({},style),{marginLeft:"auto",width:"calc(100% - ".concat(ch,"ch)")})},react.createElement(Bar,null,react.createElement(Line,{style:{backgroundColor:style.color}}),react.createElement(Numbers,null,items.map((function(i,i2){return react.createElement("span",{key:i.v+i2,"data-group":i.group,style:{backgroundColor:style.backgroundColor}},i.v)})))),legendItems.length>1&&react.createElement(Items,null,legendItems.map((function(k){return react.createElement(Item,{key:k.name},react.createElement(Col,{style:{backgroundColor:k.colour}}),k.name)}))))};function LegendY_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function LegendY_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function LegendY_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){LegendY_define_property(target,key,source[key])}))}return target}function LegendY_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function LegendY_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function LegendY_tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function LegendY_to_consumable_array(arr){return function LegendY_array_without_holes(arr){if(Array.isArray(arr))return LegendY_array_like_to_array(arr)}(arr)||function LegendY_iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function LegendY_unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return LegendY_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LegendY_array_like_to_array(o,minLen)}(arr)||function LegendY_non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LegendY_templateObject(){var data=LegendY_tagged_template_literal(["\n  display: flex;\n  flex-flow: row;\n  width: 100%;\n"]);return LegendY_templateObject=function _templateObject(){return data},data}function LegendY_templateObject1(){var data=LegendY_tagged_template_literal(["\n  width: 100%;\n  display: flex;\n  flex-flow: column-reverse;\n  justify-content: space-between;\n  z-index: 1;\n  > span {\n    text-align: right;\n  }\n"]);return LegendY_templateObject1=function _templateObject(){return data},data}LegendX.__docgenInfo={description:"",methods:[],displayName:"LegendX",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  x: number;\n  y: number;\n  name: string;\n}",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}},{key:"name",value:{name:"string",required:!0}}]}}],raw:"ILineChartItemRaw[]"},description:""},colours:{required:!0,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>"},description:""},lt:{required:!0,tsType:{name:"signature",type:"function",raw:"(a: number) => string",signature:{arguments:[{type:{name:"number"},name:"a"}],return:{name:"string"}}},description:""},tt:{required:!0,tsType:{name:"signature",type:"function",raw:"(a: number) => string",signature:{arguments:[{type:{name:"number"},name:"a"}],return:{name:"string"}}},description:""},style:{required:!0,tsType:{name:"IVarStyles"},description:""}}};var LegendY_Base=emotion_styled_browser_esm.A.div(LegendY_templateObject()),LegendY_Numbers=emotion_styled_browser_esm.A.div(LegendY_templateObject1()),LegendY=function(param){for(var _Math,_Math1,data=param.data,style=param.style,ys=data.map((function(a){return a.y})),minY=(_Math=Math).min.apply(_Math,LegendY_to_consumable_array(ys)),maxY=(_Math1=Math).max.apply(_Math1,LegendY_to_consumable_array(ys)),items=[minY],gap=(maxY-minY)/3,a=1;a<3;a+=1)items.push(Math.floor(items[a-1]+gap));items.push(maxY);var ch=maxY.toString().length;return react.createElement(LegendY_Base,{style:LegendY_object_spread_props(LegendY_object_spread({},style),{maxWidth:"".concat(ch,"ch"),paddingRight:"1ch"})},react.createElement(LegendY_Numbers,null,items.map((function(i,i2){return react.createElement("span",{key:i+i2,style:{color:style.color,backgroundColor:style.backgroundColor}},i)}))))};function TooltipContent_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function TooltipContent_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){TooltipContent_define_property(target,key,source[key])}))}return target}function TooltipContent_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function TooltipContent_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function TooltipContent_tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function TooltipContent_templateObject(){var data=TooltipContent_tagged_template_literal(["\n  padding: 0.5rem;\n"]);return TooltipContent_templateObject=function _templateObject(){return data},data}function TooltipContent_templateObject1(){var data=TooltipContent_tagged_template_literal(["\n  font-weight: bold;\n"]);return TooltipContent_templateObject1=function _templateObject(){return data},data}function TooltipContent_templateObject2(){var data=TooltipContent_tagged_template_literal(["\n  width: 100%;\n  display: flex;\n"]);return TooltipContent_templateObject2=function _templateObject(){return data},data}function TooltipContent_templateObject3(){var data=TooltipContent_tagged_template_literal(["\n  &[data-selected='true'] {\n    font-weight: bold;\n    text-decoration: underline;\n  }\n"]);return TooltipContent_templateObject3=function _templateObject(){return data},data}function TooltipContent_templateObject4(){var data=TooltipContent_tagged_template_literal(["\n  margin-left: auto;\n  padding-left: 0.5rem;\n\n  &[data-selected='true'] {\n    font-weight: bold;\n    text-decoration: underline;\n  }\n"]);return TooltipContent_templateObject4=function _templateObject(){return data},data}LegendY.__docgenInfo={description:"",methods:[],displayName:"LegendY",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  x: number;\n  y: number;\n  name: string;\n}",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}},{key:"name",value:{name:"string",required:!0}}]}}],raw:"ILineChartItemRaw[]"},description:""},style:{required:!0,tsType:{name:"IVarStyles"},description:""}}};var TooltipContent_Base=emotion_styled_browser_esm.A.div(TooltipContent_templateObject()),Title=emotion_styled_browser_esm.A.div(TooltipContent_templateObject1()),Row=emotion_styled_browser_esm.A.div(TooltipContent_templateObject2()),ItemTitle=emotion_styled_browser_esm.A.span(TooltipContent_templateObject3()),Total=emotion_styled_browser_esm.A.span(TooltipContent_templateObject4()),TooltipContent=function(p){var _p_selectedXs,_p_selectedXs__x,name=p.tt(null!==(_p_selectedXs__x=null===(_p_selectedXs=p.selectedXs)||void 0===_p_selectedXs?void 0:_p_selectedXs[0].x)&&void 0!==_p_selectedXs__x?_p_selectedXs__x:0);return react.createElement(TooltipContent_Base,{style:TooltipContent_object_spread_props(TooltipContent_object_spread({},p.style),{border:"solid 1px ".concat(p.style.borderColor)})},react.createElement(Title,null,name),react.createElement(Row,null,react.createElement("span",null,"total"),react.createElement(Total,null,p.legendItems.total)),p.legendItems.part.map((function(v){return react.createElement(Row,{key:v.name+v.y,style:{color:v.colour}},react.createElement(ItemTitle,null,v.name),react.createElement(Total,null,v.y))})),p.legendItems.rest.length>0&&react.createElement(Row,null,react.createElement("span",null,p.legendItems.rest.length," more"),react.createElement(Total,null,p.legendItems.restTotal)))};function Base_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function Base_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){Base_define_property(target,key,source[key])}))}return target}function Base_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function Base_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function Base_tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function Base_templateObject(){var data=Base_tagged_template_literal(["\n  padding: 0.5rem;\n  width: calc(100% - 1rem);\n  height: calc(100% - 1rem);\n\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: flex-end;\n  overflow: hidden;\n  position: relative;\n"]);return Base_templateObject=function _templateObject(){return data},data}function Base_templateObject1(){var data=Base_tagged_template_literal(["\n  padding: 2px;\n  width: calc(100% - 5px);\n  height: calc(100% - 5px);\n\n  @keyframes dash {\n    to {\n      stroke-dashoffset: 1000;\n    }\n  }\n"]);return Base_templateObject1=function _templateObject(){return data},data}TooltipContent.__docgenInfo={description:"",methods:[],displayName:"TooltipContent",props:{selectedPoints:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  x: number;\n  y: number;\n}",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}}],raw:"{\n  x: number;\n  y: number;\n}[]"},description:""},selectedXs:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  x: number;\n  y: number;\n  name: string;\n}",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}},{key:"name",value:{name:"string",required:!0}}]}}],raw:"ILineChartItemRaw[]"},description:""},tt:{required:!0,tsType:{name:"signature",type:"function",raw:"(a: number) => string",signature:{arguments:[{type:{name:"number"},name:"a"}],return:{name:"string"}}},description:""},lt:{required:!0,tsType:{name:"signature",type:"function",raw:"(a: number) => string",signature:{arguments:[{type:{name:"number"},name:"a"}],return:{name:"string"}}},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  x: number;\n  y: number;\n  name: string;\n}",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}},{key:"name",value:{name:"string",required:!0}}]}}],raw:"ILineChartItemRaw[]"},description:""},colours:{required:!0,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>"},description:""},legendItems:{required:!0,tsType:{name:"ILegendItems"},description:""},style:{required:!0,tsType:{name:"IVarStyles"},description:""}}};var Base_Base=emotion_styled_browser_esm.A.div(Base_templateObject()),Svg=emotion_styled_browser_esm.A.svg(Base_templateObject1()),LineChart=function(p){var _UT_pos,UT=(0,useTooltip.f)(),style=(0,common.QS)(p.style),_interpolate=interpolate(p.data),points=_interpolate.points,xTime=_interpolate.xTime,tt=p.tooltipTitle;!tt&&xTime&&(tt=timeTooltipTitle),tt||(tt=function(s){return s.toString()});var lt=p.legendTitle;!lt&&xTime&&(lt=timeLegendTitle),lt||(lt=function(s){return s.toString()});var lt2=lt,tt2=tt,legendItems=getLegendItems(Base_object_spread_props(Base_object_spread({colours:p.colours,data:p.data,tt:tt2,lt:lt2},null===(_UT_pos=UT.pos)||void 0===_UT_pos?void 0:_UT_pos.data),{fixed:!1})),SvgC=react.createElement(Svg,{style:{borderLeft:"solid 1px ".concat(style.borderColor),borderTop:"solid 1px ".concat(style.borderColor)},transform:"scale(-1,1) scale(-1,-1)",strokeWidth:"3px",fillOpacity:1,preserveAspectRatio:"none",onMouseMove:function(element){var parent=element.currentTarget.closest("[data-type='lcb']"),bb=null==parent?void 0:parent.getBoundingClientRect();if(bb){var relativeX=100*(0,math.gO)({value:element.pageX,min:bb.left,max:bb.left+bb.width}),selectedPoints=points.filter((function(p){return relativeX>=p.x1&&relativeX<p.x2}));if(0===selectedPoints.length){var sp1=points.map((function(p){return Base_object_spread_props(Base_object_spread({},p),{gap:Math.abs(p.x1-relativeX)})})).sort((function(a,b){return a.gap<b.gap?-1:1})),mingap=sp1[0].gap;selectedPoints=sp1.filter((function(r){return r.gap===mingap}))}var selectedXs=(0,array.ey)(p.data.filter((function(param){var x=param.x,y=param.y;return selectedPoints.find((function(a){return a.origX===x&&a.origY===y}))})),(function(s){return JSON.stringify(s)}));UT.setPos({element,parent,data:{selectedPoints:selectedPoints.map((function(a){return{x:a.origX,y:a.origY}})),selectedXs}})}}},points.map((function(p2){var _UT_pos_data_selectedXs_,_UT_pos_data_selectedXs,_UT_pos,isSelected=p2.origX===(null===(_UT_pos=UT.pos)||void 0===_UT_pos||null===(_UT_pos_data_selectedXs=_UT_pos.data.selectedXs)||void 0===_UT_pos_data_selectedXs||null===(_UT_pos_data_selectedXs_=_UT_pos_data_selectedXs[0])||void 0===_UT_pos_data_selectedXs_?void 0:_UT_pos_data_selectedXs_.x);return react.createElement(react.Fragment,{key:JSON.stringify(p2)},(isSelected||p2.x1===p2.x2||p2.isLast)&&react.createElement("circle",Base_object_spread({cx:"".concat(p2.x2,"%"),cy:"".concat(p2.y2,"%"),r:"8px",style:{zIndex:1}},p2.isToday&&p2.isLast&&!isSelected?{stroke:p.colours[p2.name],fill:"transparent"}:{fill:p.colours[p2.name]})),p2.x1!==p2.x2&&react.createElement("line",{strokeOpacity:legendItems.part.find((function(f){return f.name===p2.name}))?1:.3,x1:"".concat(p2.x1,"%"),x2:"".concat(p2.x2,"%"),y1:"".concat(p2.y1,"%"),y2:"".concat(p2.y2,"%"),style:Base_object_spread({stroke:p.colours[p2.name]},p2.isToday&&{strokeDasharray:10,animation:"dash 50s linear reverse infinite"})}))})));return react.createElement(Base_Base,{className:p.className,"data-type":"lcb",onMouseLeave:function(){return UT.setPos(void 0)},style},react.createElement(UT.Comp,{pos:UT.pos},(function(p2){return react.createElement(TooltipContent,Base_object_spread_props(Base_object_spread({},p2),{colours:p.colours,data:p.data,lt:lt2,tt:tt2,legendItems,style}))})),react.createElement(FlexRow.Y,{noWrap:!0},react.createElement(LegendY,{data:p.data,style}),SvgC),react.createElement(LegendX,{data:p.data,colours:p.colours,lt,tt,style}))};LineChart.__docgenInfo={description:"",methods:[],displayName:"LineChart",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  x: number;\n  y: number;\n  name: string;\n}",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}},{key:"name",value:{name:"string",required:!0}}]}}],raw:"ILineChartItemRaw[]"},description:""},className:{required:!1,tsType:{name:"string"},description:""},colours:{required:!0,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>"},description:"name -> colour"},tooltipTitle:{required:!1,tsType:{name:"signature",type:"function",raw:"(a: number) => string",signature:{arguments:[{type:{name:"number"},name:"a"}],return:{name:"string"}}},description:""},legendTitle:{required:!1,tsType:{name:"signature",type:"function",raw:"(a: number) => string",signature:{arguments:[{type:{name:"number"},name:"a"}],return:{name:"string"}}},description:""},style:{required:!1,tsType:{name:"Partial",elements:[{name:"IVarStyles"}],raw:"Partial<IVarStyles>"},description:""}}}}}]);